attr global userattr DbLogExclude DbLogExclude:textField-long DbLogInclude DbLogInclude:textField-long DbLogValueFn:textField-long alarmDevice alarmSettings cmdIcon devStateIcon devStateIcon:textField-long devStateStyle genericDeviceType:security,ignore,switch,outlet,light,blind,thermometer,thermostat,contact,garage,window,lock homebridgeMapping:textField-long icon siriName sortby webCmd webCmdLabel:textField-long widgetOverride
attr global autoload_undefined_devices 1
attr global autosave 0
attr global commandref modular
attr global dnsServer 192.168.2.1
attr global exclude_from_update 32_speedtest.pm
attr global holiday2we nw
attr global logfile ./log/fhem-%Y-%m-%d.log
attr global modpath .
attr global motd none
attr global mseclog 1
attr global nofork 0
attr global pidfilename ./log/fhem.pid
attr global room System->Other
attr global showInternalValues 1
attr global statefile ./log/fhem.save
attr global updateInBackground 1
attr global verbose 3
define dblog DbLog ./db.conf .*:.*
setuuid dblog 5c63389b-f33f-47a6-3c23-7854f3b462ac92cd
attr dblog DbLogSelectionMode Include
attr dblog DbLogType Current/History
attr dblog asyncMode 1
attr dblog group DbLog
attr dblog room System->Postgres
define telnetPort telnet 7072
setuuid telnetPort 5c63389a-f33f-47a6-6006-4a23a79997bb3bfa
attr telnetPort room System->Other
define WEB FHEMWEB 8083 global
setuuid WEB 5c63389a-f33f-47a6-81b9-bb9ae0687a6361b8
attr WEB JavaScripts codemirror/fhem_codemirror.js
attr WEB closeConn 0
attr WEB codemirrorParam { "indentWithTabs":false, "indentUnit":2, "autocomplete":true, "height":"auto" }
attr WEB editConfig 1
attr WEB iconPath fhemSVG:openautomation:default:sscam
attr WEB longpoll websocket
attr WEB mainInputLength 80
attr WEB menuEntries FHEMWiki,https://wiki.fhem.de/wiki/Hauptseite' target='_blank,DokuWiki,http://192.168.2.6:81' target='_blank,Homebridge,http://192.168.2.5:8581' target='_blank,Portainer,http://192.168.2.5:9000/#/containers' target='_blank,Pi-Hole,http://192.168.2.6/admin/' target='_blank,TasmoAdmin,http://192.168.2.6:5555/devices' target='_blank
attr WEB plotEmbed 0
attr WEB plotWeekStartDay 1
attr WEB plotfork 1
attr WEB room System->Other
attr WEB stylesheetPrefix f18
attr WEB title { if ($FW_room) { "FHEM: $FW_room" } elsif ($FW_detail) { "FHEM: $FW_detail" } else { "FHEM" } }
define WEBPhone FHEMWEB 8084 global
setuuid WEBPhone 623ecf4a-f33f-d8e9-1ae2-d68ff1ffc517ce67
attr WEBPhone JavaScripts codemirror/fhem_codemirror.js
attr WEBPhone closeConn 0
attr WEBPhone codemirrorParam { "indentWithTabs":false, "indentUnit":2, "autocomplete":true, "height":"auto" }
attr WEBPhone editConfig 1
attr WEBPhone iconPath fhemSVG:openautomation:default:sscam
attr WEBPhone longpoll websocket
attr WEBPhone mainInputLength 80
attr WEBPhone menuEntries FHEMWiki,https://wiki.fhem.de/wiki/Hauptseite' target='_blank,DokuWiki,http://192.168.2.6:81' target='_blank,Homebridge,http://192.168.2.5:8581' target='_blank,Portainer,http://192.168.2.5:9000/#/containers' target='_blank,Pi-Hole,http://192.168.2.6/admin/' target='_blank,TasmoAdmin,http://192.168.2.6:5555/devices' target='_blank
attr WEBPhone plotEmbed 0
attr WEBPhone plotWeekStartDay 1
attr WEBPhone plotfork 1
attr WEBPhone room System->Other
attr WEBPhone styleData {\
 "f18": {\
  "Pinned.menu": false,\
  "hidePin": "true",\
  "cols.bg": "FFFFE7",\
  "cols.fg": "000000",\
  "cols.link": "278727",\
  "cols.evenrow": "F8F8E0",\
  "cols.oddrow": "F0F0D8",\
  "cols.header": "E0E0C8",\
  "cols.menu": "D7FFFF",\
  "cols.sel": "A0FFFF",\
  "cols.inpBack": "FFFFFF",\
  "savePinChanges": true,\
  "fixedInput": true,\
  "wrapcolumns": false,\
  "widePortrait": true\
 }\
}
attr WEBPhone title { if ($FW_room) { "FHEM: $FW_room" } elsif ($FW_detail) { "FHEM: $FW_detail" } else { "FHEM" } }
define WEBTablet FHEMWEB 8085 global
setuuid WEBTablet 623ed03c-f33f-d8e9-f393-28638e6984f429ba
attr WEBTablet JavaScripts codemirror/fhem_codemirror.js
attr WEBTablet closeConn 0
attr WEBTablet codemirrorParam { "indentWithTabs":false, "indentUnit":2, "autocomplete":true, "height":"auto" }
attr WEBTablet editConfig 1
attr WEBTablet iconPath fhemSVG:openautomation:default:sscam
attr WEBTablet longpoll websocket
attr WEBTablet mainInputLength 80
attr WEBTablet menuEntries FHEMWiki,https://wiki.fhem.de/wiki/Hauptseite' target='_blank,DokuWiki,http://192.168.2.6:81' target='_blank,Homebridge,http://192.168.2.5:8581' target='_blank,Portainer,http://192.168.2.5:9000/#/containers' target='_blank,Pi-Hole,http://192.168.2.6/admin/' target='_blank,TasmoAdmin,http://192.168.2.6:5555/devices' target='_blank
attr WEBTablet plotEmbed 0
attr WEBTablet plotWeekStartDay 1
attr WEBTablet plotfork 1
attr WEBTablet room System->Other
attr WEBTablet stylesheetPrefix f18
attr WEBTablet title { if ($FW_room) { "FHEM: $FW_room" } elsif ($FW_detail) { "FHEM: $FW_detail" } else { "FHEM" } }
define Logfile FileLog ./log/fhem-%Y-%m-%d.log fakelog
setuuid Logfile 5c63389a-f33f-47a6-a5e0-9620b9fca2418a52
attr Logfile room System->Other
define autocreate autocreate
setuuid autocreate 5c63389a-f33f-47a6-e3c0-3d1839cf94c3d7d9
attr autocreate room System->Other
define eventTypes eventTypes ./log/eventTypes.txt
setuuid eventTypes 5c63389a-f33f-47a6-0ce1-bb594e2d03416feb
attr eventTypes room System->Other
define initialUsbCheck notify global:INITIALIZED usb create
setuuid initialUsbCheck 5c63389a-f33f-47a6-cf94-13923b43a24ce4fe
attr initialUsbCheck icon telegram
attr initialUsbCheck room System->Other
define DockerImageInfo DockerImageInfo
setuuid DockerImageInfo 6261bbb9-f33f-b657-860f-5b6699e75f1f350e
attr DockerImageInfo alias Docker Image Info
attr DockerImageInfo devStateIcon ok:security@green Initialized:system_fhem_reboot@orange .*:message_attention@red
attr DockerImageInfo group System/Docker
attr DockerImageInfo icon docker
attr DockerImageInfo room Dashboard,System->Other
define fhemServerApt AptToDate localhost
setuuid fhemServerApt 6261bbb9-f33f-b657-4006-1bff727c628f1c2a
attr fhemServerApt alias System Update Status
attr fhemServerApt devStateIcon system.updates.available:security@red system.is.up.to.date:security@green:repoSync .*in.progress:system_fhem_reboot@orange errors:message_attention@red
attr fhemServerApt group System/Docker
attr fhemServerApt icon debian
attr fhemServerApt room Dashboard,System->Other
attr fhemServerApt sortby 2
attr fhemServerApt upgradeListReading 1
define fhemInstaller Installer
setuuid fhemInstaller 6261bbb9-f33f-b657-6c82-f12094e224169a80
attr fhemInstaller alias FHEM Installer Status
attr fhemInstaller devStateIcon .*updates.available:security@red:outdated up.to.date:security@green:outdated .*outdated.*in.progress:system_fhem_reboot@orange .*in.progress:system_fhem_update@orange warning.*:message_attention@orange error.*:message_attention@red
attr fhemInstaller group System/Docker
attr fhemInstaller icon system_fhem
attr fhemInstaller room Dashboard,System->Other
attr fhemInstaller sortby 1
define sysstat SYSSTAT
setuuid sysstat 5c63389b-f33f-47a6-34d3-1ba0d9a3986c4255
attr sysstat DbLogInclude /,/boot,cpufreq,load,temperature
attr sysstat filesystems /dev/root,/dev/mmcblk0p1
attr sysstat raspberrycpufreq 1
attr sysstat raspberrytemperature 2
attr sysstat room System->Monitoring
attr sysstat showpercent 1
define Stromzaehler OBIS /dev/ttyUSB0@9600,7,E,1 SML
setuuid Stromzaehler 5c63389b-f33f-47a6-4250-3173f54cdaf79b52
attr Stromzaehler DbLogInclude power,total_consumption,statTotal_consumptionDayLast,statTotal_consumptionMonthLast,statPowerDayLast,statPowerMonthLast
attr Stromzaehler alias Stromzähler
attr Stromzaehler comment Zählernummer: 1EBZ0100024743
attr Stromzaehler event-min-interval total_consumption:60,statTotal_consumption.*:60
attr Stromzaehler group Strom
attr Stromzaehler interval 10
attr Stromzaehler pollingMode on
attr Stromzaehler room Zähler
attr Stromzaehler sortby 1
attr Stromzaehler stateFormat total_consumption kWh
define myPlot_Stromverbrauch SVG dblog:myPlot_Stromverbrauch:HISTORY
setuuid myPlot_Stromverbrauch 5c63389b-f33f-47a6-cf75-5e1c1f04f64aaacc
attr myPlot_Stromverbrauch room Plots->Strom
define myPlot_Systemlast SVG dblog:myPlot_Systemlast:HISTORY
setuuid myPlot_Systemlast 5dac2bf3-f33f-d8e9-35bb-68258cb7d129915f
attr myPlot_Systemlast room System->Monitoring
define myPlot_Temperatur SVG dblog:myPlot_Temperatur:HISTORY
setuuid myPlot_Temperatur 5dac3225-f33f-d8e9-80f2-46b662125fa8b8cb
attr myPlot_Temperatur room System->Monitoring
define myPlot_Synology SVG dblog:myPlot_Synology:HISTORY
setuuid myPlot_Synology 5dcdd830-f33f-d8e9-c608-fb7737e10b9746e2
attr myPlot_Synology room Plots->Synology,System->Synology
attr myPlot_Synology sortby 3
define myPlot_Computer SVG dblog:myPlot_Computer:HISTORY
setuuid myPlot_Computer 5e2755db-f33f-d8e9-78e5-a1f276c26d8865db
attr myPlot_Computer room Plots->PC und TV
attr myPlot_Computer sortby 2
define myPlot_Fernseher SVG dblog:myPlot_Fernseher:HISTORY
setuuid myPlot_Fernseher 5e2755db-f33f-d8e9-8b85-20f24d0ce8a8b652
attr myPlot_Fernseher room Plots->PC und TV
attr myPlot_Fernseher sortby 1
define myPlot_Kuehlschrank1 SVG dblog:myPlot_Kuehlschrank1:HISTORY
setuuid myPlot_Kuehlschrank1 5e2755db-f33f-d8e9-1051-221d990494af7e14
attr myPlot_Kuehlschrank1 alias Kühlschrank Keller Verbrauch
attr myPlot_Kuehlschrank1 room Plots->Kühlung
attr myPlot_Kuehlschrank1 sortby 3
define myPlot_Trockner SVG dblog:myPlot_Trockner:HISTORY
setuuid myPlot_Trockner 5e2755db-f33f-d8e9-1d97-b67e81069f58407c
attr myPlot_Trockner room Plots->Waschen
attr myPlot_Trockner sortby 6
define myPlot_Waschmaschine SVG dblog:myPlot_Waschmaschine:HISTORY
setuuid myPlot_Waschmaschine 5e2755db-f33f-d8e9-afae-30449e8d78ba3b26
attr myPlot_Waschmaschine room Plots->Waschen
attr myPlot_Waschmaschine sortby 5
define rgEnergie readingsGroup TYPE=MQTT2_DEVICE:power_gen\
TYPE=MQTT2_DEVICE:power_diff\
TYPE=MQTT2_DEVICE:power_out\
TYPE=OBIS:power
setuuid rgEnergie 5c63389d-f33f-47a6-2bf5-83fb96bac44a93bd
attr rgEnergie alias Energiebilanz
attr rgEnergie group Energiebilanz
attr rgEnergie mapping {'power_gen'  => 'Balkonkraftwerk', \
 'power_diff' => 'Verbrauch vom Haus', \
 'power_out'  => 'Einspeisung',\
 'power'      => 'Summe am Zähler'\
 }
attr rgEnergie noheading 1
attr rgEnergie notime 1
attr rgEnergie room Dashboard,Plots->Strom
attr rgEnergie style style="border:0px;;background:none;;box-shadow:none"
attr rgEnergie valueFormat {\
	power      => "%.0fW", \
	power_gen  => "%.0fW", \
	power_diff => "%.0fW", \
	power_out  => "%.0fW"\
}
attr rgEnergie valuePrefix {'power_gen' => '<a href="fhem?room=Plots->Strom">'}
attr rgEnergie valueStyle style="text-align:right"
define rgSystemstatus readingsGroup sysstat:temperature\
sysstat:load
setuuid rgSystemstatus 5c63389d-f33f-47a6-1722-fc5157e02a66911c
attr rgSystemstatus alias Raspberry Pi
attr rgSystemstatus group System/Status
attr rgSystemstatus mapping {'load' => 'Auslastung (letzte Minute)', 'temperature' => 'CPU-Temperatur'}
attr rgSystemstatus noheading 1
attr rgSystemstatus nostate 1
attr rgSystemstatus notime 1
attr rgSystemstatus room Dashboard
attr rgSystemstatus sortby 2
attr rgSystemstatus style style="border:0px;;background:none;;box-shadow:none"
attr rgSystemstatus valueFormat {load => '{sprintf("%.0f%%",$VALUE*100)}',temperature=> "%.1f°C"}
attr rgSystemstatus valueStyle style="text-align:right"
define Fritzbox FRITZBOX 192.168.2.1
setuuid Fritzbox 5c63389d-f33f-47a6-d795-5178a94247f3148b
attr Fritzbox DbLogInclude rateDownInMB,rateUpInMB,box_connect,powerInWatt,box_cpuTemp
attr Fritzbox INTERVAL 60
attr Fritzbox boxUser fritz
attr Fritzbox event-on-change-reading rateDownInMB,rateUpInMB,box_connect,powerInWatt,box_cpuTemp,box_guestWlan,box_wlan_2.4GHz,box_wlan_5GHz
attr Fritzbox room FritzBox
attr Fritzbox userReadings powerInWatt {ReadingsVal("Fritzbox","box_powerRate",0)/100*27}, \
rateDownInMB {ReadingsVal("Fritzbox","box_rateDown",0)*8/1024}, \
rateUpInMB {ReadingsVal("Fritzbox","box_rateUp",0)*8/1024}
define rgFritzbox readingsGroup TYPE=FRITZBOX:box_cpuTemp\
TYPE=FRITZBOX:box_powerRate\
TYPE=FRITZBOX:box_wlan_2.4GHz\
TYPE=FRITZBOX:box_guestWlan
setuuid rgFritzbox 5c63389d-f33f-47a6-21d4-b13e4e3cdc6ac2f1
attr rgFritzbox alwaysTrigger 1
attr rgFritzbox group FritzBox
attr rgFritzbox mapping {'box_cpuTemp' => 'CPU-Temperatur', 'box_powerRate' => 'Aktueller Energieverbrauch:', 'box_wlan_2.4GHz' => 'WLAN', 'box_guestWlan' => 'WLAN Gastzugang'}
attr rgFritzbox noheading 1
attr rgFritzbox nostate 1
attr rgFritzbox notime 1
attr rgFritzbox room FritzBox
attr rgFritzbox style style="border:0px;;background:none;;box-shadow:none"
attr rgFritzbox valueFormat {box_cpuTemp => "%.1f°C", box_powerRate => "%.0f%%"}
attr rgFritzbox valueIcon {\
	'box_wlan_2.4GHz.on' => 'on',\
	'box_wlan_2.4GHz.off' => 'off@grey',\
	'box_guestWlan.on' => 'on',\
	'box_guestWlan.off' => 'off@grey'\
}
attr rgFritzbox valueStyle style="text-align:right"
define at_traffic at +*00:01:00 \
{\
	my $d= ((ReadingsVal("Fritzbox",".box_TodayBytesReceivedLow",0) / (1000*1000) ) / 1000 + ( ReadingsVal("Fritzbox",".box_TodayBytesReceivedHigh",0) * 4294967296 / (1000*1000) ) / 1000);;\
	fhem("setreading Empfangen Empfangen $d");;\
 	\
	my $e= ((ReadingsVal("Fritzbox",".box_TodayBytesSentLow",0) / (1000*1000) ) / 1000 + ( ReadingsVal("Fritzbox",".box_TodayBytesSentHigh",0) * 4294967296 / (1000*1000) ) / 1000);;\
	fhem("setreading Gesendet Gesendet $e");;\
}
setuuid at_traffic 5d46efb2-f33f-47a6-8aa6-f11611f4065b57c0
attr at_traffic room FritzBox
define Empfangen dummy
setuuid Empfangen 5d46efd4-f33f-47a6-f3a5-a8e7b1af00902ce0
attr Empfangen alias Download (Heute - Gesamt)
attr Empfangen icon control_arrow_down@green
attr Empfangen room FritzBox
attr Empfangen stateFormat {sprintf("%.2f GB - %.2f GB",ReadingsVal("Empfangen","Empfangen",0),ReadingsVal("Empfangen","Empfangen_ges",0))}
attr Empfangen userReadings Empfangen_ges monotonic { ReadingsVal("Empfangen","Empfangen",0)}
define Gesendet dummy
setuuid Gesendet 5d46efe5-f33f-47a6-3e89-b88e6870270f6cd9
attr Gesendet alias Upload (Heute - Gesamt)
attr Gesendet icon control_arrow_up@red
attr Gesendet room FritzBox
attr Gesendet stateFormat {sprintf("%.2f GB - %.2f GB",ReadingsVal("Gesendet","Gesendet",0),ReadingsVal("Gesendet","Gesendet_ges",0))}
attr Gesendet userReadings Gesendet_ges monotonic { ReadingsVal("Gesendet","Gesendet",0)}
define broker MQTT2_SERVER 1883 global
setuuid broker 5c63389d-f33f-47a6-5ce0-c308ac79547f778e
attr broker autocreate simple
attr broker icon mqtt_broker
attr broker ignoreRegexp cmnd/[^:"]+:|shellies/[^:"]+/command
attr broker room Energie
define MQTT2_DVES_4B31BB MQTT2_DEVICE DVES_4B31BB
setuuid MQTT2_DVES_4B31BB 5c6b2376-f33f-47a6-c868-3c84c20e02eb6671
attr MQTT2_DVES_4B31BB DbLogInclude power
attr MQTT2_DVES_4B31BB IODev broker
attr MQTT2_DVES_4B31BB alias Umwälzpumpe
attr MQTT2_DVES_4B31BB autocreate 0
attr MQTT2_DVES_4B31BB devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_DVES_4B31BB event-on-change-reading .*
attr MQTT2_DVES_4B31BB group MQTT2_DEVICE
attr MQTT2_DVES_4B31BB icon mqtt_device
attr MQTT2_DVES_4B31BB readingList tele/obi-wlan1/LWT:.* LWT\
  tele/obi-wlan1/STATE:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/obi-wlan1/SENSOR:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/obi-wlan1/INFO.:.* { $EVENT =~ m,^..Info[1-3]..(.+).$, ?  json2nameValue($1,'',$JSONMAP) : json2nameValue($EVENT,'',$JSONMAP) }\
  tele/obi-wlan1/UPTIME:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  stat/obi-wlan1/POWER1:.* state\
  stat/obi-wlan1/RESULT:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_DVES_4B31BB room Energie,Urlaub
attr MQTT2_DVES_4B31BB setList off:noArg    cmnd/obi-wlan1/POWER1 0\
  on:noArg     cmnd/obi-wlan1/POWER1 1\
  toggle:noArg cmnd/obi-wlan1/POWER1 2
attr MQTT2_DVES_4B31BB setStateList on off toggle
attr MQTT2_DVES_4B31BB sortby 4
attr MQTT2_DVES_4B31BB userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) },\
online {if(ReadingsVal($name,"LWT","") eq "Online") {return "true"} else {return "false"}},\
power {if(ReadingsVal($name,"POWER1","") eq "on") {return 28} else {return 0}},\
ip {ReadingsVal($name,"IPAddress","")}
attr MQTT2_DVES_4B31BB webCmd toggle
define MQTT2_DVES_0371A9 MQTT2_DEVICE DVES_0371A9
setuuid MQTT2_DVES_0371A9 5dc47b52-f33f-d8e9-fa1d-5ee57920d71db634
attr MQTT2_DVES_0371A9 DbLogInclude power,ENERGY_Today
attr MQTT2_DVES_0371A9 IODev broker
attr MQTT2_DVES_0371A9 alias Kühlschrank Keller
attr MQTT2_DVES_0371A9 autocreate 0
attr MQTT2_DVES_0371A9 comment NOTE: For on-for-timer SetExtensions are used. You may add on-for-timer option running on the device. The following is limited to 1h max duration, but will not affect future simple "on" commands:<br>on-for-timer {my $duration = $EVTPART1*10;; 'cmnd/cmnd/gosund-sp111-02/Backlog POWER1 1;; delay '.$duration.';; POWER1 0'}<br>See the "Praxisbeispiele" in the wiki for "pulseTime1" alternative option and it's restrictions.
attr MQTT2_DVES_0371A9 devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_DVES_0371A9 event-on-change-reading .*
attr MQTT2_DVES_0371A9 genericDeviceType outlet
attr MQTT2_DVES_0371A9 group MQTT2_DEVICE
attr MQTT2_DVES_0371A9 icon mqtt_device
attr MQTT2_DVES_0371A9 jsonMap POWER1:0 POWER2:0 POWER3:0 POWER4:0 Dimmer:0 Channel_0:0 Channel_1:0 Channel_2:0 Channel_3:0 Channel_4:0 Channel_5:0 HSBColor:0 Color:0
attr MQTT2_DVES_0371A9 model tasmota_basic_state_power1
attr MQTT2_DVES_0371A9 readingList tele/gosund-sp111-02/LWT:.* LWT\
  tele/gosund-sp111-02/STATE:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-02/SENSOR:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-02/INFO.:.* { $EVENT =~ m,^..Info[1-3]..(.+).$, ?  json2nameValue($1,'',$JSONMAP) : json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-02/UPTIME:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  stat/gosund-sp111-02/POWER1:.* state\
  stat/gosund-sp111-02/RESULT:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_DVES_0371A9 room Energie,System->HomeKit,Urlaub
attr MQTT2_DVES_0371A9 setList off:noArg    cmnd/gosund-sp111-02/POWER1 0\
  on:noArg     cmnd/gosund-sp111-02/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-02/POWER1 2\
  setOtaUrl:textField cmnd/gosund-sp111-02/OtaUrl $EVTPART1\
  upgrade:noArg   cmnd/gosund-sp111-02/upgrade 1
attr MQTT2_DVES_0371A9 setStateList on off toggle
attr MQTT2_DVES_0371A9 sortby 5
attr MQTT2_DVES_0371A9 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) },\
power {ReadingsNum($name,'ENERGY_Power',0)},\
online {if(ReadingsVal($name,"LWT","") eq "Online") {return "true"} else {return "false"}},\
ip {ReadingsVal($name,"IPAddress","")}
attr MQTT2_DVES_0371A9 webCmd toggle
define MQTT2_DVES_02F335 MQTT2_DEVICE DVES_02F335
setuuid MQTT2_DVES_02F335 5dc47b56-f33f-d8e9-f421-eaf6a57dd6885ee1
attr MQTT2_DVES_02F335 DbLogInclude power,ENERGY_Today
attr MQTT2_DVES_02F335 IODev broker
attr MQTT2_DVES_02F335 alias Kühlschrank Küche
attr MQTT2_DVES_02F335 autocreate 0
attr MQTT2_DVES_02F335 devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_DVES_02F335 event-on-change-reading .*
attr MQTT2_DVES_02F335 group MQTT2_DEVICE
attr MQTT2_DVES_02F335 icon mqtt_device
attr MQTT2_DVES_02F335 readingList tele/gosund-sp111-01/LWT:.* LWT\
  tele/gosund-sp111-01/STATE:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-01/SENSOR:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-01/INFO.:.* { $EVENT =~ m,^..Info[1-3]..(.+).$, ?  json2nameValue($1,'',$JSONMAP) : json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-01/UPTIME:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  stat/gosund-sp111-01/POWER1:.* state\
  stat/gosund-sp111-01/RESULT:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_DVES_02F335 room Energie
attr MQTT2_DVES_02F335 setList off:noArg    cmnd/gosund-sp111-01/POWER1 0\
  on:noArg     cmnd/gosund-sp111-01/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-01/POWER1 2
attr MQTT2_DVES_02F335 setStateList on off toggle
attr MQTT2_DVES_02F335 sortby 3
attr MQTT2_DVES_02F335 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) },\
power {ReadingsNum($name,'ENERGY_Power',0)},\
online {if(ReadingsVal($name,"LWT","") eq "Online") {return "true"} else {return "false"}},\
ip {ReadingsVal($name,"IPAddress","")}
attr MQTT2_DVES_02F335 webCmd toggle
define rgVerbraucher readingsGroup <Verbraucher>,<Online>,<Status>,<Verbrauch>\
TYPE=MQTT2_DEVICE:FILTER=room=Energie:online,state,power\
rgVerbraucher:$scalar(:1),$scalar(:1),$sum(:3)@Summe
setuuid rgVerbraucher 5dc6ca84-f33f-d8e9-d86c-6c8078ed793995f7
attr rgVerbraucher alias Verbraucher
attr rgVerbraucher cellStyle style="text-align:center"
attr rgVerbraucher group Strom
attr rgVerbraucher nameStyle style="text-align:left"
attr rgVerbraucher noheading 1
attr rgVerbraucher room Dashboard
attr rgVerbraucher sortDevices 1
attr rgVerbraucher style style="text-align:right;;border:0px;;background:none;;box-shadow:none"
attr rgVerbraucher valueFormat {power => "%.0fW", Summe => "%.0fW"}
attr rgVerbraucher valueIcon {\
	'state.on' => 'on',\
	'state.off' => 'off@grey',\
	'online.true' => '10px-kreis-gruen',\
	'online.false' => '10px-kreis-rot'\
}
attr rgVerbraucher valueStyle style="text-align:right"
define MQTT2_DVES_A4CAD6 MQTT2_DEVICE DVES_A4CAD6
setuuid MQTT2_DVES_A4CAD6 5dc9dc0a-f33f-d8e9-4e65-7d31a3d77782b6cb
attr MQTT2_DVES_A4CAD6 DbLogInclude power
attr MQTT2_DVES_A4CAD6 IODev broker
attr MQTT2_DVES_A4CAD6 alias Waschmaschine
attr MQTT2_DVES_A4CAD6 autocreate 0
attr MQTT2_DVES_A4CAD6 comment NOTE: For on-for-timer SetExtensions are used. You may add on-for-timer option running on the device. The following is limited to 1h max duration, but will not affect future simple "on" commands:<br>on-for-timer {my $duration = $EVTPART1*10;; 'cmnd/cmnd/gosund-sp111-03/Backlog POWER1 1;; delay '.$duration.';; POWER1 0'}<br>See the "Praxisbeispiele" in the wiki for "pulseTime1" alternative option and it's restrictions.
attr MQTT2_DVES_A4CAD6 devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_DVES_A4CAD6 event-on-change-reading .*
attr MQTT2_DVES_A4CAD6 genericDeviceType switch
attr MQTT2_DVES_A4CAD6 group MQTT2_DEVICE
attr MQTT2_DVES_A4CAD6 icon mqtt_device
attr MQTT2_DVES_A4CAD6 jsonMap POWER1:0 POWER2:0 POWER3:0 POWER4:0 Dimmer:0 Channel_0:0 Channel_1:0 Channel_2:0 Channel_3:0 Channel_4:0 Channel_5:0 HSBColor:0 Color:0
attr MQTT2_DVES_A4CAD6 model tasmota_basic_state_power1
attr MQTT2_DVES_A4CAD6 readingList tele/gosund-sp111-03/LWT:.* LWT\
  tele/gosund-sp111-03/STATE:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-03/SENSOR:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-03/INFO.:.* { $EVENT =~ m,^..Info[1-3]..(.+).$, ?  json2nameValue($1,'',$JSONMAP) : json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-03/UPTIME:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  stat/gosund-sp111-03/POWER1:.* state\
  stat/gosund-sp111-03/RESULT:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_DVES_A4CAD6 room Energie
attr MQTT2_DVES_A4CAD6 setList off:noArg    cmnd/gosund-sp111-03/POWER1 0\
  on:noArg     cmnd/gosund-sp111-03/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-03/POWER1 2\
  setOtaUrl:textField cmnd/gosund-sp111-03/OtaUrl $EVTPART1\
  upgrade:noArg   cmnd/gosund-sp111-03/upgrade 1
attr MQTT2_DVES_A4CAD6 setStateList on off toggle
attr MQTT2_DVES_A4CAD6 sortby 6
attr MQTT2_DVES_A4CAD6 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) },\
power {ReadingsNum($name,'ENERGY_Power',0)},\
online {if(ReadingsVal($name,"LWT","") eq "Online") {return "true"} else {return "false"}},\
ip {ReadingsVal($name,"IPAddress","")}
attr MQTT2_DVES_A4CAD6 webCmd toggle
define MQTT2_DVES_350EBD MQTT2_DEVICE DVES_350EBD
setuuid MQTT2_DVES_350EBD 5dc9dc0a-f33f-d8e9-3f9c-ee834ef0f2e9b1eb
attr MQTT2_DVES_350EBD DbLogInclude power
attr MQTT2_DVES_350EBD IODev broker
attr MQTT2_DVES_350EBD alias Trockner
attr MQTT2_DVES_350EBD autocreate 0
attr MQTT2_DVES_350EBD comment NOTE: For on-for-timer SetExtensions are used. You may add on-for-timer option running on the device. The following is limited to 1h max duration, but will not affect future simple "on" commands:<br>on-for-timer {my $duration = $EVTPART1*10;; 'cmnd/cmnd/gosund-sp111-04/Backlog POWER1 1;; delay '.$duration.';; POWER1 0'}<br>See the "Praxisbeispiele" in the wiki for "pulseTime1" alternative option and it's restrictions.
attr MQTT2_DVES_350EBD devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_DVES_350EBD event-on-change-reading .*
attr MQTT2_DVES_350EBD genericDeviceType switch
attr MQTT2_DVES_350EBD group MQTT2_DEVICE
attr MQTT2_DVES_350EBD icon mqtt_device
attr MQTT2_DVES_350EBD jsonMap POWER1:0 POWER2:0 POWER3:0 POWER4:0 Dimmer:0 Channel_0:0 Channel_1:0 Channel_2:0 Channel_3:0 Channel_4:0 Channel_5:0 HSBColor:0 Color:0
attr MQTT2_DVES_350EBD model tasmota_basic_state_power1
attr MQTT2_DVES_350EBD readingList tele/gosund-sp111-04/LWT:.* LWT\
  tele/gosund-sp111-04/STATE:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-04/SENSOR:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-04/INFO.:.* { $EVENT =~ m,^..Info[1-3]..(.+).$, ?  json2nameValue($1,'',$JSONMAP) : json2nameValue($EVENT,'',$JSONMAP) }\
  tele/gosund-sp111-04/UPTIME:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  stat/gosund-sp111-04/POWER1:.* state\
  stat/gosund-sp111-04/RESULT:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_DVES_350EBD room Energie
attr MQTT2_DVES_350EBD setList off:noArg    cmnd/gosund-sp111-04/POWER1 0\
  on:noArg     cmnd/gosund-sp111-04/POWER1 1\
  toggle:noArg cmnd/gosund-sp111-04/POWER1 2\
  setOtaUrl:textField cmnd/gosund-sp111-04/OtaUrl $EVTPART1\
  upgrade:noArg   cmnd/gosund-sp111-04/upgrade 1
attr MQTT2_DVES_350EBD setStateList on off toggle
attr MQTT2_DVES_350EBD sortby 7
attr MQTT2_DVES_350EBD userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) },\
power {ReadingsNum($name,'ENERGY_Power',0)},\
online {if(ReadingsVal($name,"LWT","") eq "Online") {return "true"} else {return "false"}},\
ip {ReadingsVal($name,"IPAddress","")}
attr MQTT2_DVES_350EBD webCmd toggle
define doifWaschmaschine DOIF ([MQTT2_DVES_A4CAD6:ENERGY_Power] > 8)\
(\
	set $SELF washState running,\
	set $SELF start_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))}\
)\
DOELSEIF ([MQTT2_DVES_A4CAD6:ENERGY_Power] < 8)\
(\
	set $SELF washState finish,\
	set $SELF end_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))},\
	set $SELF lastRun_timestamp {(TimeNow())},\
	set $SELF lastRun_kWh {(sprintf ('%.3f',(ReadingsVal("$SELF","end_kWh",0) - ReadingsVal("$SELF","start_kWh",0))))}\
)
setuuid doifWaschmaschine 5d0a6078-f33f-47a6-19ee-bb4e8ad36efc0d8d
attr doifWaschmaschine alias Status Waschmaschine
attr doifWaschmaschine cmdState running|finish
attr doifWaschmaschine icon helper_doif
attr doifWaschmaschine readingList washState start_kWh end_kWh lastRun_kWh lastRun_timestamp
attr doifWaschmaschine room System->Signal
attr doifWaschmaschine sortby 1
attr doifWaschmaschine wait 90:300
define doifTrockner DOIF ([MQTT2_DVES_350EBD:ENERGY_Power] > 500)\
(\
	set $SELF washState running,\
	set $SELF start_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))}\
)\
DOELSEIF ([MQTT2_DVES_350EBD:ENERGY_Power] < 500)\
(\
	set $SELF washState finish,\
	set $SELF end_kWh {(ReadingsVal("$DEVICE","ENERGY_Total",0))},\
	set $SELF lastRun_timestamp {(TimeNow())},\
	set $SELF lastRun_kWh {(sprintf ('%.3f',(ReadingsVal("$SELF","end_kWh",0) - ReadingsVal("$SELF","start_kWh",0))))}\
)
setuuid doifTrockner 5d0a6078-f33f-47a6-ef70-0d50a532fba8dd15
attr doifTrockner alias Status Trockner
attr doifTrockner cmdState running|finish
attr doifTrockner icon helper_doif
attr doifTrockner readingList washState start_kWh end_kWh lastRun_kWh lastRun_timestamp
attr doifTrockner room System->Signal
attr doifTrockner sortby 2
attr doifTrockner wait 45:300
define notifyFhemReload notify global:INITIALIZED set signalBot send @Carsten FHEM wurde neu gestartet
setuuid notifyFhemReload 5d988f6a-f33f-d8e9-5f1d-d8f038daeeec8af4
attr notifyFhemReload icon telegram
attr notifyFhemReload room System->Signal
define watchdogBuegeleisen watchdog MQTT2_DVES_4B31BB:on 00:60:00 MQTT2_DVES_4B31BB:off set MQTT2_DVES_4B31BB off
setuuid watchdogBuegeleisen 5e24c0d1-f33f-d8e9-e6dc-7eaf28d7d9b1d83a
attr watchdogBuegeleisen alias Abschaltung Bügeleisen (60min)
attr watchdogBuegeleisen autoRestart 1
attr watchdogBuegeleisen devStateIcon {AttrVal($name,'disable','0') eq "0" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr watchdogBuegeleisen disable 1
attr watchdogBuegeleisen group Schaltungen
attr watchdogBuegeleisen icon dog_silhouette
attr watchdogBuegeleisen room Energie
define notifyBuegeleisenAn notify MQTT2_DVES_4B31BB:on set signalBot send Bügeleisen an
setuuid notifyBuegeleisenAn 5e24c9c7-f33f-d8e9-7ba1-7c602c14ac076461
attr notifyBuegeleisenAn disable 1
attr notifyBuegeleisenAn icon telegram
attr notifyBuegeleisenAn room System->Signal
define notifyBuegeleisenAus notify MQTT2_DVES_4B31BB:off set signalBot send Bügeleisen aus
setuuid notifyBuegeleisenAus 5e24cd51-f33f-d8e9-e6a6-c69730f55e0873af
attr notifyBuegeleisenAus disable 1
attr notifyBuegeleisenAus icon telegram
attr notifyBuegeleisenAus room System->Signal
define myPlot_Umwaelzpumpe SVG dblog:myPlot_Umwaelzpumpe:HISTORY
setuuid myPlot_Umwaelzpumpe 5e2896bb-f33f-d8e9-8d71-da016be49b821204
attr myPlot_Umwaelzpumpe endPlotToday 1
attr myPlot_Umwaelzpumpe fixedrange week
attr myPlot_Umwaelzpumpe room Plots->Pumpen
define WetterProplanta PROPLANTA Aachen de
setuuid WetterProplanta 5e400951-f33f-d8e9-f7c0-9d74418607732c7f
attr WetterProplanta room Wetter
define link_proplanta weblink htmlCode {PROPLANTA_Html("WetterProplanta",7)}
setuuid link_proplanta 5e4009a5-f33f-d8e9-722d-67dd1eaf00421752
attr link_proplanta room Wetter
define myPlot_VerbrauchProTag SVG dblog:myPlot_VerbrauchProTag:HISTORY
setuuid myPlot_VerbrauchProTag 5e541bcc-f33f-d8e9-31c1-8d6e639fe13bcfb1
attr myPlot_VerbrauchProTag endPlotToday 1
attr myPlot_VerbrauchProTag fixedrange year
attr myPlot_VerbrauchProTag room Plots->Strom
define watchdog systemd_watchdog
setuuid watchdog 5e9195f5-f33f-d8e9-410b-554a7f1260b803c9
attr watchdog room System->Other
define rgTest readingsGroup <Device>,<Wert>,<Summe>,<Min>,<Max>,<Avg>\
t\d:+NAME,state,$sum(1..$ROW:2),$min(1..$ROW:2),$max(1..$ROW:2),$avg(1..$ROW:2)\
<hr>\
rgTest:<>,$scalar,$sum(:2)@SUM,$min(:2)@MIN,$max(:2)@MAX,$avg(:2)@AVG\
setuuid rgTest 5e9427fb-f33f-d8e9-90df-23cc39dcfc5ebfd4
setuuid rgTest 6340a776-f33f-b657-e742-820ffaf149cacb7c
attr rgTest group Demo-Tabelle
attr rgTest nonames 1
attr rgTest room System->Test
attr rgTest style style='text-align:center'
attr rgTest valueFormat { 'avg' => '%.2f', 'AVG' => '%.2f' }
attr rgTest valuePrefix { 'rg.scalar' => '#', 'rg.SUM' =>'&Sigma;; ', 'rg.MIN' =>'Min: ', 'rg.MAX' =>'Max: ', 'rg.AVG' =>'&empty;; ', 'rg.count' => '#(X): ' }
attr rgTest valueSuffix { state => '&deg;;C' }
define t1 dummy
setuuid t1 5e9427fb-f33f-d8e9-f686-b74622414e7e08dd
attr t1 group Demo-Tabelle
attr t1 room System->Test
attr t1 setList state:slider,-10,1,30
attr t1 webCmd state
define t2 dummy
setuuid t2 5e9427fb-f33f-d8e9-9e47-d3d2f6fc3bb482be
attr t2 group Demo-Tabelle
attr t2 room System->Test
attr t2 setList state:slider,0,1,100
attr t2 webCmd state
define t3 dummy
setuuid t3 5e9427fb-f33f-d8e9-ff5f-c85d1fc037341be2
attr t3 group Demo-Tabelle
attr t3 room System->Test
attr t3 setList state:slider,-10,1,30
attr t3 webCmd state
define iconDemo dummy
setuuid iconDemo 5e948671-f33f-d8e9-7a5c-537a21482db68736
attr iconDemo devStateIcon 1.on:on:on1+off 1.off:off@grey:on1+on 2.on:on:on2+off 2.off:off@grey:on2+on 3.on:on:on3+off 3.off:off@grey:on3+on ok:batterie@green low:batterie@red
attr iconDemo group Demo-Icons
attr iconDemo readingList on1 on2 on3 battery
attr iconDemo room System->Test
attr iconDemo setList on1:on,off on2:on,off on3:on,off battery:low,ok
attr iconDemo stateFormat 1:on1\
2:on2\
3:on3\
<br>\
temperature&deg;;C\
battery
attr iconDemo webCmd on1:on2:on3:battery
define wdt_Umwaelzpumpe_present WeekdayTimer MQTT2_DVES_4B31BB !$we|06:15|on !$we|08:45|off !$we|17:30|on $we|08:00|on $we|10:30|off $we|17:30|on 19:30|off
setuuid wdt_Umwaelzpumpe_present 5f7ac87d-f33f-d8e9-6777-55399d01467fc585
attr wdt_Umwaelzpumpe_present alias Zeitschaltung Umwälzpumpe
attr wdt_Umwaelzpumpe_present commandTemplate set $NAME  $EVENT
attr wdt_Umwaelzpumpe_present devStateIcon {AttrVal($name,'disable','0') eq "0" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr wdt_Umwaelzpumpe_present disable 0
attr wdt_Umwaelzpumpe_present group Schaltungen
attr wdt_Umwaelzpumpe_present icon time_timer
attr wdt_Umwaelzpumpe_present room Energie,Urlaub
attr wdt_Umwaelzpumpe_present webCmd enable:disable
define rgTimer readingsGroup <>,<State>,<Next Update>,<Next Value> TYPE=WeekdayTimer:state,nextUpdate,nextValue
setuuid rgTimer 5f7cda4d-f33f-d8e9-f4e9-d4202aab210fffa0
attr rgTimer alias Wochentimer
attr rgTimer icon Prev
attr rgTimer room Energie,Urlaub
attr rgTimer sortby 1
attr rgTimer valueFormat { if ( $READING =~ m/.*DEF/ ) { my @text = split(" ", $VALUE);; shift @text;; return join(" ", @text) }}
define myPlot_Fritzbox_Bandbreite SVG lp:myPlot_Fritzbox_Bandbreite:HISTORY
setuuid myPlot_Fritzbox_Bandbreite 6007051d-f33f-d8e9-b7f8-72ee5744d8f7d00a
attr myPlot_Fritzbox_Bandbreite room Plots->FritzBox,FritzBox
define wol_synology WOL 00:11:32:A8:58:2A 192.168.2.7
setuuid wol_synology 60789c6c-f33f-d8e9-1bd5-ad1940a9960a3d65
attr wol_synology alias Synology NAS
attr wol_synology devStateIcon on:general_an@orange:off off:general_aus@grey:on
attr wol_synology icon it_nas
attr wol_synology interval 60
attr wol_synology room System->Synology
attr wol_synology webCmd on
attr wol_synology wolCmd get Fritzbox tr064Command Hosts:1 hosts X_AVM-DE_WakeOnLANByMACAddress NewMACAddress "00:11:32:A8:58:2A"
define myPlot_Kuehlschrank2 SVG dblog:myPlot_Kuehlschrank2:HISTORY
setuuid myPlot_Kuehlschrank2 60d1fc45-f33f-d8e9-a59a-4e72ac9e3d374aee
attr myPlot_Kuehlschrank2 alias Kühlschrank Keller Verbrauch pro Tag
attr myPlot_Kuehlschrank2 endPlotToday 1
attr myPlot_Kuehlschrank2 fixedrange month
attr myPlot_Kuehlschrank2 room Plots->Kühlung
attr myPlot_Kuehlschrank2 sortby 4
define wdt_Kuehlschrank WeekdayTimer MQTT2_DVES_0371A9 6|13:00|on 4|17:00|on 5|15:00|on 01234|22:00|off 56|23:45|off
setuuid wdt_Kuehlschrank 60d243b9-f33f-d8e9-f968-56a140ea41006f3e
attr wdt_Kuehlschrank alias Zeitschaltung Bierkühlschrank
attr wdt_Kuehlschrank commandTemplate set $NAME  $EVENT
attr wdt_Kuehlschrank devStateIcon {AttrVal($name,'disable','0') eq "0" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr wdt_Kuehlschrank disable 1
attr wdt_Kuehlschrank group Schaltungen
attr wdt_Kuehlschrank icon time_timer
attr wdt_Kuehlschrank room Energie,Urlaub
attr wdt_Kuehlschrank webCmd enable:disable
define notifyWaschmaschineFertig notify doifWaschmaschine:finish set signalBot send Waschmaschine fertig
setuuid notifyWaschmaschineFertig 61dd5bb5-f33f-d8e9-42c4-fc6fd7d1694effdb
attr notifyWaschmaschineFertig icon telegram
attr notifyWaschmaschineFertig room System->Signal
define notifyTrocknerFertig notify doifTrockner:finish set signalBot send Trockner fertig
setuuid notifyTrocknerFertig 61dd5c06-f33f-d8e9-11d4-03bbafd6296959cc
attr notifyTrocknerFertig icon telegram
attr notifyTrocknerFertig room System->Signal
define at_message01_wheather at *06:30:00 set signalBot send Wetter aktuell: [WetterProplanta:weather]\nAußentemperatur: [WetterProplanta:temperature] Grad, Luftfeuchte [WetterProplanta:humidity]%\nVorhergesagte Temperatur heute: [WetterProplanta:fc0_tempMin] bis [WetterProplanta:fc0_tempMax] Grad\nRegenwahrscheinlichkeit: [WetterProplanta:fc1_chOfRain00]%\nPrognose morgens: [WetterProplanta:fc0_weatherMorning], tagsüber: [WetterProplanta:fc0_weatherDay], abends: [WetterProplanta:fc0_weatherEvening]
setuuid at_message01_wheather 61dde578-f33f-d8e9-5b71-6af2131ced943726
attr at_message01_wheather icon clock
attr at_message01_wheather room System->Signal
attr at_message01_wheather verbose 0
define siri siri
setuuid siri 6213eabb-f33f-d8e9-e406-ae988ddd750de6b5
attr siri room System->HomeKit
define MQTT2_shelly1_E89F6D869E63 MQTT2_DEVICE shelly1_E89F6D869E63
setuuid MQTT2_shelly1_E89F6D869E63 62374343-f33f-d8e9-6906-0e7671e080b972b8
attr MQTT2_shelly1_E89F6D869E63 alias Shelly Garage Tina
attr MQTT2_shelly1_E89F6D869E63 autocreate 1
attr MQTT2_shelly1_E89F6D869E63 comment input0 ist das Signal fuer den Reed-Kontakt\
- input0=1 Reed-Kontakt geschlossen -> Tor zu\
- input0=0 Reed-Kontakt offen -> Tor offen
attr MQTT2_shelly1_E89F6D869E63 devStateIcon {\
  my $onl = ReadingsVal($name,"online","false") eq "false" ? "rot" : ReadingsVal($name,"new_fw","false") eq "true" ? "gelb" : "gruen";;\
  my $input = ReadingsVal($name,"input0","1") eq "1"?'fts_garage_door_100@gruen':'fts_garage_door_10@red';;\
  my $light = ReadingsVal($name,"state","off");;\
  my $ip = ReadingsVal($name,"ip","none");;\
  my $show = '<a href="';;\
  $show .= $onl eq "gelb" ? "/fhem?cmd.dummy=set $name x_update&XHR=1\">" : "http://".ReadingsVal($name,"ip","none").' "target="_blank">';;\
  $show .= FW_makeImage("10px-kreis-".$onl)."</a>";;\
  "<div> $show <a href=\"http://$ip\" target=\"_blank\">".FW_makeImage($input)."</a></div>"\
}
attr MQTT2_shelly1_E89F6D869E63 event-on-change-reading .*
attr MQTT2_shelly1_E89F6D869E63 genericDeviceType switch
attr MQTT2_shelly1_E89F6D869E63 icon mqtt_device
attr MQTT2_shelly1_E89F6D869E63 model shelly1
attr MQTT2_shelly1_E89F6D869E63 readingList shellies/shelly1-E89F6D869E63/relay/0:.* state\
  shellies/shelly1-E89F6D869E63/relay/0:.* relay0\
  shellies/shelly1-E89F6D869E63/input/0:.* input0\
  shellies/shelly1-E89F6D869E63/online:.* online\
  shellies/shelly1-E89F6D869E63/announce:.* { json2nameValue($EVENT) }\
  shellies/announce:.* { $EVENT =~ m,..id...shelly1-E89F6D869E63...mac.*, ? json2nameValue($EVENT) : return }\
shelly1_E89F6D869E63:shellies/shelly1-E89F6D869E63/info:.* { json2nameValue($EVENT) }\
shelly1_E89F6D869E63:shellies/shelly1-E89F6D869E63/online:.* online\
shelly1_E89F6D869E63:shellies/shelly1-E89F6D869E63/input_event/0:.* { json2nameValue($EVENT) }\
shelly1_E89F6D869E63:shellies/shelly1-E89F6D869E63/longpush/0:.* longpush_0
attr MQTT2_shelly1_E89F6D869E63 room Garagen
attr MQTT2_shelly1_E89F6D869E63 setList off:noArg shellies/shelly1-E89F6D869E63/relay/0/command off\
  on:noArg shellies/shelly1-E89F6D869E63/relay/0/command on\
  x_update:noArg shellies/shelly1-E89F6D869E63/command update_fw\
  x_mqttcom shellies/shelly1-E89F6D869E63/command $EVTPART1
attr MQTT2_shelly1_E89F6D869E63 webCmd on
define MQTT2_shelly1_862BBE MQTT2_DEVICE shelly1_862BBE
setuuid MQTT2_shelly1_862BBE 62374343-f33f-d8e9-4be6-854220b3fcc4e162
attr MQTT2_shelly1_862BBE alias Shelly Garage Carsten
attr MQTT2_shelly1_862BBE autocreate 1
attr MQTT2_shelly1_862BBE comment input0 ist das Signal fuer den Reed-Kontakt\
- input0=1 Reed-Kontakt geschlossen -> Tor zu\
- input0=0 Reed-Kontakt offen -> Tor offen
attr MQTT2_shelly1_862BBE devStateIcon {\
  my $onl = ReadingsVal($name,"online","false") eq "false" ? "rot" : ReadingsVal($name,"new_fw","false") eq "true" ? "gelb" : "gruen";;\
  my $input = ReadingsVal($name,"input0","1") eq "1"?'fts_garage_door_100@gruen':'fts_garage_door_10@red';;\
  my $light = ReadingsVal($name,"state","off");;\
  my $ip = ReadingsVal($name,"ip","none");;\
  my $show = '<a href="';;\
  $show .= $onl eq "gelb" ? "/fhem?cmd.dummy=set $name x_update&XHR=1\">" : "http://".ReadingsVal($name,"ip","none").' "target="_blank">';;\
  $show .= FW_makeImage("10px-kreis-".$onl)."</a>";;\
  "<div> $show <a href=\"http://$ip\" target=\"_blank\">".FW_makeImage($input)."</a></div>"\
}
attr MQTT2_shelly1_862BBE event-on-change-reading .*
attr MQTT2_shelly1_862BBE genericDeviceType switch
attr MQTT2_shelly1_862BBE icon mqtt_device
attr MQTT2_shelly1_862BBE model shelly1
attr MQTT2_shelly1_862BBE readingList shellies/shelly1-862BBE/relay/0:.* {{ state => $EVENT, relay0 => $EVENT}}\
  shellies/shelly1-862BBE/input/0:.* input0\
  shellies/shelly1-862BBE/online:.* online\
  shellies/shelly1-862BBE/announce:.* { json2nameValue($EVENT) }\
  shellies/announce:.* { $EVENT =~ m,..id...shelly1-862BBE...mac.*, ? json2nameValue($EVENT) : return }\
shelly1_862BBE:shellies/shelly1-862BBE/info:.* { json2nameValue($EVENT) }\
shelly1_862BBE:shellies/shelly1-862BBE/input_event/0:.* { json2nameValue($EVENT) }\
shelly1_862BBE:shellies/shelly1-862BBE/longpush/0:.* longpush_0
attr MQTT2_shelly1_862BBE room Garagen
attr MQTT2_shelly1_862BBE setList off:noArg shellies/shelly1-862BBE/relay/0/command off\
  on:noArg shellies/shelly1-862BBE/relay/0/command on\
  x_update:noArg shellies/shelly1-862BBE/command update_fw\
  x_mqttcom shellies/shelly1-862BBE/command $EVTPART1
attr MQTT2_shelly1_862BBE webCmd on
define dummyGarageCarsten dummy
setuuid dummyGarageCarsten 62169ecb-f33f-d8e9-c3ac-499d167a7686dace
attr dummyGarageCarsten alias Carsten
attr dummyGarageCarsten devStateIcon open:fts_garage_door_10@red close:fts_garage_door_100@green
attr dummyGarageCarsten devStateStyle fts_garage
attr dummyGarageCarsten genericDeviceType garage
attr dummyGarageCarsten group Garage
attr dummyGarageCarsten homebridgeMapping On=open=state,valueOff=close,valueOn=open,cmdOff=close,cmdOn=open
attr dummyGarageCarsten icon fts_garage
attr dummyGarageCarsten room Garagen,System->HomeKit
attr dummyGarageCarsten setList open close
attr dummyGarageCarsten webCmd open:close
define dummyGarageTina dummy
setuuid dummyGarageTina 62374719-f33f-d8e9-48ec-49354e3bcd6799bb
attr dummyGarageTina alias Tina
attr dummyGarageTina devStateIcon open:fts_garage_door_10@red close:fts_garage_door_100@green
attr dummyGarageTina devStateStyle fts_garage
attr dummyGarageTina genericDeviceType garage
attr dummyGarageTina group Garage
attr dummyGarageTina homebridgeMapping On=open=state,valueOff=close,valueOn=open,cmdOff=close,cmdOn=open
attr dummyGarageTina icon fts_garage
attr dummyGarageTina room Garagen,System->HomeKit
attr dummyGarageTina setList open close
attr dummyGarageTina webCmd open:close
define doifGarageTina DOIF ([dummyGarageTina:"close"] and [MQTT2_shelly1_E89F6D869E63:input0] eq 0)\
	(set MQTT2_shelly1_E89F6D869E63 on)\
DOELSEIF ([dummyGarageTina:"open"] and [MQTT2_shelly1_E89F6D869E63:input0] eq 1)\
	(set MQTT2_shelly1_E89F6D869E63 on)\
DOELSEIF ([MQTT2_shelly1_E89F6D869E63:input0] eq 1)\
	(set dummyGarageTina close)\
DOELSEIF ([MQTT2_shelly1_E89F6D869E63:input0] eq 0)\
	(set dummyGarageTina open)
setuuid doifGarageTina 62374eaf-f33f-d8e9-adb4-913f3f3187b862df
attr doifGarageTina icon helper_doif
attr doifGarageTina room Garagen
define dummyGarageTest dummy
setuuid dummyGarageTest 6238d8b2-f33f-d8e9-8942-b1132b47c2b93a2b
attr dummyGarageTest devStateIcon open:fts_garage_door_10@red close:fts_garage_door_100@green
attr dummyGarageTest devStateStyle fts_garage
attr dummyGarageTest genericDeviceType garage
attr dummyGarageTest group Garage
attr dummyGarageTest homebridgeMapping On=open=state,valueOff=close,valueOn=open,cmdOff=close,cmdOn=open
attr dummyGarageTest icon fts_garage
attr dummyGarageTest room System->Test
attr dummyGarageTest setList open close
attr dummyGarageTest webCmd open:close
define dummyShellyTest dummy
setuuid dummyShellyTest 6238d952-f33f-d8e9-2dd5-e904f53e14c28d3d
attr dummyShellyTest devStateIcon {\
    my $onl = ReadingsVal($name,"online","false") eq "false" ? "rot" : ReadingsVal($name,"new_fw","false") eq "true" ? "gelb" : "gruen";;;;;;;;\
    my $input = ReadingsVal($name,"input0","1") eq "1"?'fts_garage_door_100@gruen':'fts_garage_door_10@red';;;;;;;;\
    my $light = ReadingsVal($name,"state","off");;;;;;;;\
	my $ip = ReadingsVal($name,"ip","none");;;;;;;;\
    my $show = '<a href="';;;;;;;;\
	$show .= $onl eq "gelb" ? "/fhem?cmd.dummy=set $name x_update&XHR=1\">" : "http://".ReadingsVal($name,"ip","none").' "target="_blank">';;;;;;;; \
	$show .= FW_makeImage("10px-kreis-".$onl)."</a>";;;;;;;; \
	"<div> $show <a href=\"http://$ip\" target=\"_blank\">".FW_makeImage($input)."</a></div>"\
}
attr dummyShellyTest event-on-change-reading .*
attr dummyShellyTest group Garage
attr dummyShellyTest icon mqtt_device
attr dummyShellyTest readingList online input0 new_fw ip
attr dummyShellyTest room System->Test
attr dummyShellyTest setList on off online:true,false input0:0,1 new_fw:true,false
attr dummyShellyTest webCmd input0:new_fw:online
define doifGarageTest DOIF ## 1\
([dummyGarageTest:"close"] ) \
	(setreading dummyShellyTest input0 1)\
## 2\
DOELSEIF ([dummyGarageTest:"open"] ) \
	(setreading dummyShellyTest input0 0)\
## 3\
DOELSEIF ([dummyShellyTest:input0] eq 1)\
	(set dummyGarageTest close)\
## 4\
DOELSEIF ([dummyShellyTest:input0] eq 0)\
	(set dummyGarageTest open)
setuuid doifGarageTest 6238e66f-f33f-d8e9-8840-6647d91abf5b681c
attr doifGarageTest group Garage
attr doifGarageTest icon helper_doif
attr doifGarageTest room System->Test
define gWLAN readingsProxy Fritzbox:box_guestWlan
setuuid gWLAN 6238fde8-f33f-d8e9-626e-a84379c69441032c
attr gWLAN alias Gäste-WLAN
attr gWLAN comment Vorbereitet für HomeKit. Mit dem Balkonkraftwerk aus Apple Home rausgenommen, weil das im Gäste-WLAN hängt.
attr gWLAN devStateIcon on:on off:off@grey
attr gWLAN event-on-change-reading state
attr gWLAN genericDeviceType switch
attr gWLAN homebridgeMapping On=state,valueOn=on,valueOff=off,cmdOn=on,cmdOff=off
attr gWLAN room FritzBox
attr gWLAN setFn {fhem("set Fritzbox guestWlan ". ($CMD eq 'on' ?"on":"off"))}
attr gWLAN setList state:on,off
attr gWLAN webCmd on:off
define notifyGarageTinaOffline notify MQTT2_shelly1_E89F6D869E63:online:.* set signalBot send @Carsten Garage von Tina $EVENT
setuuid notifyGarageTinaOffline 623af676-f33f-d8e9-6240-0db33d1f7b01ff1c
attr notifyGarageTinaOffline icon telegram
attr notifyGarageTinaOffline room System->Signal
define notifyGarageCarstenOffline notify MQTT2_shelly1_862BBE:online:.* set signalBot send @Carsten Garage von Carsten $EVENT
setuuid notifyGarageCarstenOffline 623af994-f33f-d8e9-52a8-5db07188a03141eb
attr notifyGarageCarstenOffline icon telegram
attr notifyGarageCarstenOffline room System->Signal
define lp logProxy
setuuid lp 623b8af7-f33f-d8e9-e740-abaec6d106fa326a
attr lp group DbLog
attr lp room System->Postgres
define iconDemoSingle dummy
setuuid iconDemoSingle 623ce812-f33f-d8e9-af07-e5e0bc8d7e5eb92c
attr iconDemoSingle group Demo-Icons
attr iconDemoSingle readingList state
attr iconDemoSingle room System->Test
attr iconDemoSingle webCmd on:off
define doifGarageTinaOffen DOIF ([21:00] and [MQTT2_shelly1_E89F6D869E63:input0] eq 0) (set signalBot send Tinas Garage noch offen)
setuuid doifGarageTinaOffen 624ad440-f33f-d8e9-abbd-db3f241b2085966f
attr doifGarageTinaOffen icon helper_doif
attr doifGarageTinaOffen room System->Signal
define doifGarageCarstenOffen DOIF ([21:00] and [MQTT2_shelly1_862BBE:input0] eq 0) (set signalBot send Carstens Garage noch offen)
setuuid doifGarageCarstenOffen 624adf43-f33f-d8e9-c921-09cf015c4cfa4290
attr doifGarageCarstenOffen icon helper_doif
attr doifGarageCarstenOffen room System->Signal
define nw holiday
setuuid nw 624ae4fb-f33f-d8e9-8e07-378c558b6d83d501
attr nw room System->Other
define at_dbrep6_sysstat at *03:10:00 set dbrep_sysstat reduceLog 7 average INCLUDE=sysstat%:%
setuuid at_dbrep6_sysstat 62654016-f33f-d8e9-d6c3-9f16208de1dcadd3
attr at_dbrep6_sysstat group Automatisierung
attr at_dbrep6_sysstat room System->Postgres
define dbrep_sysstat DbRep dblog
setuuid dbrep_sysstat 6266ff8c-f33f-d8e9-1663-4617c4699a119f0a
attr dbrep_sysstat allowDeletion 1
attr dbrep_sysstat fastStart 1
attr dbrep_sysstat room System->Postgres
attr dbrep_sysstat showproctime 1
attr dbrep_sysstat stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_fritzbox DbRep dblog
setuuid dbrep_fritzbox 6267051e-f33f-d8e9-2420-b2cfe1af467d40dd
attr dbrep_fritzbox allowDeletion 1
attr dbrep_fritzbox fastStart 1
attr dbrep_fritzbox room System->Postgres
attr dbrep_fritzbox showproctime 1
attr dbrep_fritzbox stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_power DbRep dblog
setuuid dbrep_power 62670533-f33f-d8e9-b5cf-95a01a1f6180a5bc
attr dbrep_power allowDeletion 1
attr dbrep_power fastStart 1
attr dbrep_power room System->Postgres
attr dbrep_power showproctime 1
attr dbrep_power stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define at_dbrep4_fritzbox at *03:06:00 set dbrep_fritzbox sqlCmd delete from history where type='FRITZBOX' and (timestamp < now() - interval '30 days');;
setuuid at_dbrep4_fritzbox 62670561-f33f-d8e9-0b32-537bc7a9d4dda5c3
attr at_dbrep4_fritzbox group Automatisierung
attr at_dbrep4_fritzbox room System->Postgres
define at_dbrep5_power at *03:08:00 set dbrep_power sqlCmd delete from history where reading='power' and (timestamp < now() - interval '7 days');;
setuuid at_dbrep5_power 62670569-f33f-d8e9-dd1d-a53a3ab7ca87c29e
attr at_dbrep5_power group Automatisierung
attr at_dbrep5_power room System->Postgres
define sysstat_charon SYSSTAT 60 3600 192.168.2.6
setuuid sysstat_charon 626fa288-f33f-b657-bd8d-01b21d8815a246d0
attr sysstat_charon DbLogInclude /,/boot,cpufreq,load,temperature
attr sysstat_charon disable 0
attr sysstat_charon event-on-change-reading .*
attr sysstat_charon filesystems /dev/root,/dev/mmcblk0p1
attr sysstat_charon raspberrycpufreq 1
attr sysstat_charon raspberrytemperature 2
attr sysstat_charon room System->Monitoring
attr sysstat_charon showpercent 1
attr sysstat_charon ssh_user carsten
define myPlot_Systemlast_Charon SVG dblog:myPlot_Systemlast_Charon:HISTORY
setuuid myPlot_Systemlast_Charon 626fb962-f33f-b657-6884-26ebca53eb03e1a8
attr myPlot_Systemlast_Charon room System->Monitoring
define myPlot_Temperatur_Charon SVG dblog:myPlot_Temperatur_Charon:HISTORY
setuuid myPlot_Temperatur_Charon 626fbb83-f33f-b657-dbbf-c8134a6cb00f4143
attr myPlot_Temperatur_Charon room System->Monitoring
define notifyCharonConnection notify sysstat_charon:connection:.* set signalBot send @Carsten Charon $EVENT
setuuid notifyCharonConnection 6274d773-f33f-b657-bf4b-75f5e8b6ef4ad931
attr notifyCharonConnection comment sysstat_charon:connection:.* {if((time - $fhem_started) > 60) {set telegramBot message Charon $EVENT}}
attr notifyCharonConnection icon telegram
attr notifyCharonConnection room System->Signal
define Stromstatistik statistics Stromzaehler
setuuid Stromstatistik 629299ca-f33f-b657-cecc-76b48121d44de2ac
attr Stromstatistik deltaReadings total_consumption
attr Stromstatistik group Strom
attr Stromstatistik room Zähler
attr Stromstatistik singularReadings Stromzaehler:total_consumption:Delta:(Year|Month|Hour|Day)
attr Stromstatistik sortby 2
define Stromkalkulator ElectricityCalculator Stromzaehler:total_consumption:.*
setuuid Stromkalkulator 62936d98-f33f-b657-3437-771508b1e7bb0566
attr Stromkalkulator BasicPricePerAnnum 0
attr Stromkalkulator Currency €
attr Stromkalkulator DecimalPlace 3
attr Stromkalkulator ElectricityCounterOffset 0
attr Stromkalkulator ElectricityKwhPerCounts 1
attr Stromkalkulator ElectricityPricePerKWh 0.2567
attr Stromkalkulator MonthOfAnnualReading 5
attr Stromkalkulator MonthlyPayment 0
attr Stromkalkulator ReadingDestination CalculatorDevice
attr Stromkalkulator SiPrefixPower W
attr Stromkalkulator group Strom
attr Stromkalkulator room Zähler
attr Stromkalkulator sortby 3
define Familie RESIDENTS
setuuid Familie 62a79c19-f33f-b657-03f2-99ba471624a0db8f
attr Familie DbLogInclude anwesend
attr Familie alias Familie
attr Familie devStateIcon .*home:user_available:absent .*absent:user_away:home .*gone:user_ext_away:home .*gotosleep:scene_toilet:asleep .*asleep:scene_sleeping:awoken .*awoken:scene_sleeping_alternat:home .*:user_unknown:home
attr Familie event-on-change-reading anwesend
attr Familie group Home State
attr Familie icon control_building_filled
attr Familie room System->Präsenz
attr Familie userReadings anwesend {if(ReadingsVal($name,"state","") eq "home") {return 1} else {return 0}}
attr Familie webCmd state
define doifComputerEingeschaltet DOIF ([23:00] and [MQTT2_DVES_ED41C4:state] eq "on") (set signalBot send Computer im Arbeitszimmer noch eingeschaltet)
setuuid doifComputerEingeschaltet 62ea3522-f33f-b657-5e7a-215fa9d759e169bc
attr doifComputerEingeschaltet disable 1
attr doifComputerEingeschaltet icon helper_doif
attr doifComputerEingeschaltet room System->Signal
define speedtest speedtest 3600
setuuid speedtest 62f2548f-f33f-b657-29a3-58b22aae5d6cd37c
attr speedtest DbLogInclude download,ping,upload
attr speedtest path /usr/bin
attr speedtest room FritzBox
define myPlot_Speedtest SVG dblog:myPlot_Speedtest:HISTORY
setuuid myPlot_Speedtest 62f90697-f33f-b657-8102-30a27041d5cbfecd
attr myPlot_Speedtest room FritzBox,Plots->FritzBox
define rr_Carsten ROOMMATE Familie
setuuid rr_Carsten 632726e3-f33f-b657-12c4-9618de9a9f7ad59b
attr rr_Carsten alias Carsten
attr rr_Carsten comment Auto-created by Familie
attr rr_Carsten devStateIcon .*home:user_available:absent .*absent:user_away:home .*gone:user_ext_away:home .*gotosleep:scene_toilet:asleep .*asleep:scene_sleeping:awoken .*awoken:scene_sleeping_alternat:home .*:user_unknown:home
attr rr_Carsten group Familie
attr rr_Carsten icon people_sensor
attr rr_Carsten room System->Präsenz
attr rr_Carsten rr_presenceDevices presence_iPhoneCarsten
attr rr_Carsten rr_realname group
attr rr_Carsten sortby 1
attr rr_Carsten webCmd state
define rr_Tina ROOMMATE Familie
setuuid rr_Tina 63272700-f33f-b657-7a51-3f0a452939c2f056
attr rr_Tina alias Tina
attr rr_Tina comment Auto-created by Familie
attr rr_Tina devStateIcon .*home:user_available:absent .*absent:user_away:home .*gone:user_ext_away:home .*gotosleep:scene_toilet:asleep .*asleep:scene_sleeping:awoken .*awoken:scene_sleeping_alternat:home .*:user_unknown:home
attr rr_Tina group Familie
attr rr_Tina icon people_sensor
attr rr_Tina room System->Präsenz
attr rr_Tina rr_presenceDevices presence_iPhoneTina
attr rr_Tina rr_realname group
attr rr_Tina sortby 2
attr rr_Tina webCmd state
define benzinpreis dummy
setuuid benzinpreis 6334ada5-f33f-b657-6883-d58a112c5f28cba8
attr benzinpreis readingList SuperE5_2 SuperPlus_2
attr benzinpreis room System->Test
attr benzinpreis setList SuperE5_2:slider,140,1,200 SuperPlus_2:slider,140,1,200
attr benzinpreis stateFormat SuperE5, SuperPlus
attr benzinpreis userReadings SuperE5 {(ReadingsVal("oil","SuperE5_2",0) / 100 )}, SuperPlus {(ReadingsVal("oil","SuperPlus_2",0) / 100 )}
attr benzinpreis webCmd SuperE5_2:SuperPlus_2
define myPlot_Heizung_Schlafzimmer SVG dblog:myPlot_Heizung_Schlafzimmer:HISTORY
setuuid myPlot_Heizung_Schlafzimmer 6338a33f-f33f-b657-5697-15ef22b2d62bde1a
attr myPlot_Heizung_Schlafzimmer endPlotToday 1
attr myPlot_Heizung_Schlafzimmer fixedrange week
attr myPlot_Heizung_Schlafzimmer group Plots
attr myPlot_Heizung_Schlafzimmer room Heizung,Plots->Heizung
define myPlot_Heizung_Marit SVG dblog:myPlot_Heizung_Marit:HISTORY
setuuid myPlot_Heizung_Marit 6338a36a-f33f-b657-e81e-1992515bdbd5b78e
attr myPlot_Heizung_Marit endPlotToday 1
attr myPlot_Heizung_Marit fixedrange week
attr myPlot_Heizung_Marit group Plots
attr myPlot_Heizung_Marit room Heizung,Plots->Heizung
define myPlot_Heizung_Hauke SVG dblog:myPlot_Heizung_Hauke:HISTORY
setuuid myPlot_Heizung_Hauke 6338a371-f33f-b657-be57-76d3c24871305427
attr myPlot_Heizung_Hauke endPlotToday 1
attr myPlot_Heizung_Hauke fixedrange week
attr myPlot_Heizung_Hauke group Plots
attr myPlot_Heizung_Hauke room Heizung,Plots->Heizung
define myPlot_Heizung_Badezimmer SVG dblog:myPlot_Heizung_Badezimmer:HISTORY
setuuid myPlot_Heizung_Badezimmer 6338a37a-f33f-b657-6a0a-fae5f62b26ea3fd6
attr myPlot_Heizung_Badezimmer endPlotToday 1
attr myPlot_Heizung_Badezimmer fixedrange week
attr myPlot_Heizung_Badezimmer group Plots
attr myPlot_Heizung_Badezimmer room Heizung,Plots->Heizung
define doifGarageCarsten DOIF ([dummyGarageCarsten:"close"] and [MQTT2_shelly1_862BBE:input0] eq 0)\
	(set MQTT2_shelly1_862BBE on)\
DOELSEIF ([dummyGarageCarsten:"open"] and [MQTT2_shelly1_862BBE:input0] eq 1)\
	(set MQTT2_shelly1_862BBE on) \
DOELSEIF ([MQTT2_shelly1_862BBE:input0] eq 1)\
	(set dummyGarageCarsten close) \
DOELSEIF ([MQTT2_shelly1_862BBE:input0] eq 0)\
	(set dummyGarageCarsten open)
setuuid doifGarageCarsten 6340a7ab-f33f-b657-cd02-f7d9b1e804d6dcc1
attr doifGarageCarsten icon helper_doif
attr doifGarageCarsten room Garagen
define MQTT2_shellyplug_s_896928 MQTT2_DEVICE shellyplug_s_896928
setuuid MQTT2_shellyplug_s_896928 63431b7c-f33f-b657-88e7-81ce25ddf7ad515a
attr MQTT2_shellyplug_s_896928 DbLogInclude power
attr MQTT2_shellyplug_s_896928 alias Fernseher
attr MQTT2_shellyplug_s_896928 devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_shellyplug_s_896928 event-min-interval .*:60
attr MQTT2_shellyplug_s_896928 event-on-change-reading .*
attr MQTT2_shellyplug_s_896928 genericDeviceType outlet
attr MQTT2_shellyplug_s_896928 group MQTT2_DEVICE
attr MQTT2_shellyplug_s_896928 icon mqtt_device
attr MQTT2_shellyplug_s_896928 model shelly1_w_energy_measuring
attr MQTT2_shellyplug_s_896928 readingList shellies/shellyplug-s-896928/relay/0:.* {{ state => $EVENT, relay0 => $EVENT}}\
  shellies/shellyplug-s-896928/input/0:.* input0\
  shellies/shellyplug-s-896928/online:.* online\
  shellies/announce:.* { $EVENT =~ m,..id...shellyplug-s-896928...mac.*, ? json2nameValue($EVENT) : return }\
  shellies/shellyplug-s-896928/announce:.* { json2nameValue($EVENT) }\
  shellies/shellyplug-s-896928/relay/0/power:.* relay_0_power\
  shellies/shellyplug-s-896928/relay/0/power:.* { my $compare = $EVTPART0 < 100 ? 'off':'on';; ReadingsVal($NAME,'loadState','off') ne $compare ? { loadState => $compare } : return }\
  shellies/shellyplug-s-896928/temperature:.* temperature\
  shellies/shellyplug-s-896928/temperature_f:.* {}\
  shellies/shellyplug-s-896928/input_event/0:.* { json2nameValue($EVENT) }\
  shellies/shellyplug-s-896928/overtemperature:.* overtemperature\
  shellies/shellyplug-s-896928/relay/0/energy:.* { relay_0_energy => $EVENT, relay_0_kWh => sprintf("%.2f",$EVENT/60/1000)}\
  shellies/shellyplug-s-896928/longpush/0:.* longpush_0
attr MQTT2_shellyplug_s_896928 room Energie,System->HomeKit
attr MQTT2_shellyplug_s_896928 setList relay0:on,off,toggle shellies/shellyplug-s-896928/relay/0/command $EVTPART1\
  toggle:noArg shellies/shellyplug-s-896928/relay/0/command toggle\
  off:noArg shellies/shellyplug-s-896928/relay/0/command off\
  on:noArg shellies/shellyplug-s-896928/relay/0/command on\
  x_update:noArg shellies/shellyplug-s-896928/command update_fw\
  x_mqttcom shellies/shellyplug-s-896928/command $EVTPART1
attr MQTT2_shellyplug_s_896928 sortby 1
attr MQTT2_shellyplug_s_896928 userReadings power {ReadingsNum($name,'relay_0_power',0)}
attr MQTT2_shellyplug_s_896928 webCmd toggle
define MQTT2_shellyplug_s_88A465 MQTT2_DEVICE shellyplug_s_88A465
setuuid MQTT2_shellyplug_s_88A465 63431d2c-f33f-b657-0239-f3dd21905b610cda
attr MQTT2_shellyplug_s_88A465 DbLogInclude power
attr MQTT2_shellyplug_s_88A465 alias Synology NAS
attr MQTT2_shellyplug_s_88A465 comment To get appropriate loadState values: Change the default limit "100" in readingList to your needs.
attr MQTT2_shellyplug_s_88A465 devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_shellyplug_s_88A465 event-min-interval .*:60
attr MQTT2_shellyplug_s_88A465 event-on-change-reading .*
attr MQTT2_shellyplug_s_88A465 genericDeviceType switch
attr MQTT2_shellyplug_s_88A465 group MQTT2_DEVICE
attr MQTT2_shellyplug_s_88A465 icon mqtt_device
attr MQTT2_shellyplug_s_88A465 model shelly1_w_energy_measuring
attr MQTT2_shellyplug_s_88A465 readingList shellies/shellyplug-s-88A465/relay/0:.* {{ state => $EVENT, relay0 => $EVENT}}\
  shellies/shellyplug-s-88A465/input/0:.* input0\
  shellies/shellyplug-s-88A465/online:.* online\
  shellies/announce:.* { $EVENT =~ m,..id...shellyplug-s-88A465...mac.*, ? json2nameValue($EVENT) : return }\
  shellies/shellyplug-s-88A465/announce:.* { json2nameValue($EVENT) }\
  shellies/shellyplug-s-88A465/relay/0/power:.* relay_0_power\
  shellies/shellyplug-s-88A465/relay/0/power:.* { my $compare = $EVTPART0 < 100 ? 'off':'on';; ReadingsVal($NAME,'loadState','off') ne $compare ? { loadState => $compare } : return }\
  shellies/shellyplug-s-88A465/temperature:.* temperature\
  shellies/shellyplug-s-88A465/temperature_f:.* {}\
  shellies/shellyplug-s-88A465/input_event/0:.* { json2nameValue($EVENT) }\
  shellies/shellyplug-s-88A465/overtemperature:.* overtemperature\
  shellies/shellyplug-s-88A465/relay/0/energy:.* { relay_0_energy => $EVENT, relay_0_kWh => sprintf("%.2f",$EVENT/60/1000)}\
  shellies/shellyplug-s-88A465/longpush/0:.* longpush_0
attr MQTT2_shellyplug_s_88A465 room Energie
attr MQTT2_shellyplug_s_88A465 setList relay0:on,off,toggle shellies/shellyplug-s-88A465/relay/0/command $EVTPART1\
  toggle:noArg shellies/shellyplug-s-88A465/relay/0/command toggle\
  off:noArg shellies/shellyplug-s-88A465/relay/0/command off\
  on:noArg shellies/shellyplug-s-88A465/relay/0/command on\
  x_update:noArg shellies/shellyplug-s-88A465/command update_fw\
  x_mqttcom shellies/shellyplug-s-88A465/command $EVTPART1
attr MQTT2_shellyplug_s_88A465 userReadings power {ReadingsNum($name,'relay_0_power',0)}
attr MQTT2_shellyplug_s_88A465 webCmd :
define presence_iPhoneCarsten PRESENCE function {checkFritzMACpresent("Fritzbox","BA:56:FE:82:5E:C1")} 60 60
setuuid presence_iPhoneCarsten 6345d004-f33f-b657-3ab9-0fcb3762721e4aae
attr presence_iPhoneCarsten DbLogInclude anwesend
attr presence_iPhoneCarsten event-on-change-reading anwesend
attr presence_iPhoneCarsten room System->Präsenz
attr presence_iPhoneCarsten sortby 1
attr presence_iPhoneCarsten userReadings anwesend {if(ReadingsVal($name,"presence","") eq "present") {return 1} else {return 0}}
define presence_iPhoneTina PRESENCE function {checkFritzMACpresent("Fritzbox","4E:17:A9:C2:0D:BE")} 60 60
setuuid presence_iPhoneTina 6345d05e-f33f-b657-76c2-e0f0034fb0864458
attr presence_iPhoneTina DbLogInclude anwesend
attr presence_iPhoneTina event-on-change-reading anwesend
attr presence_iPhoneTina room System->Präsenz
attr presence_iPhoneTina sortby 2
attr presence_iPhoneTina userReadings anwesend {if(ReadingsVal($name,"presence","") eq "present") {return 1} else {return 0}}
define myPlot_PresenceCarsten SVG dblog:myPlot_PresenceCarsten:HISTORY
setuuid myPlot_PresenceCarsten 6345d3a9-f33f-b657-742d-209a56136955e355
attr myPlot_PresenceCarsten fixedrange week
attr myPlot_PresenceCarsten plotWeekStartDay 1
attr myPlot_PresenceCarsten room System->Präsenz
attr myPlot_PresenceCarsten sortby 1
define myPlot_PresenceTina SVG dblog:myPlot_PresenceTina:HISTORY
setuuid myPlot_PresenceTina 6345d3c4-f33f-b657-644a-4285408eb06b2d3e
attr myPlot_PresenceTina fixedrange week
attr myPlot_PresenceTina plotWeekStartDay 1
attr myPlot_PresenceTina room System->Präsenz
attr myPlot_PresenceTina sortby 2
define myPlot_PresenceTotal SVG dblog:myPlot_PresenceTotal:HISTORY
setuuid myPlot_PresenceTotal 63471272-f33f-b657-5828-1e71c1b7d9eaa895
attr myPlot_PresenceTotal fixedrange week
attr myPlot_PresenceTotal plotWeekStartDay 1
attr myPlot_PresenceTotal room System->Präsenz
define MQTT2_shellytrv_BC33AC034B28 MQTT2_DEVICE shellytrv_BC33AC034B28
setuuid MQTT2_shellytrv_BC33AC034B28 635455e1-f33f-b657-0e44-0f4b3a4296bac242
attr MQTT2_shellytrv_BC33AC034B28 DbLogInclude t_target,t_value
attr MQTT2_shellytrv_BC33AC034B28 alias Schlafzimmer
attr MQTT2_shellytrv_BC33AC034B28 devicetopic shellies/shellytrv-BC33AC034B28
attr MQTT2_shellytrv_BC33AC034B28 genericDeviceType thermostat
attr MQTT2_shellytrv_BC33AC034B28 icon temp_control
attr MQTT2_shellytrv_BC33AC034B28 jsonMap bat:0 bat_value:batteryPercent bat_voltage:batteryVoltage target_t_value:desired-temp thermostats_1_tmp_value:temperature thermostats_1_valve_min_percent:valve_min_percent thermostats_1_target_t_accelerated_heating:accelerated_heating thermostats_1_schedule:mode thermostats_1_pos:valve
attr MQTT2_shellytrv_BC33AC034B28 model shelly_TRV
attr MQTT2_shellytrv_BC33AC034B28 readingList $DEVICETOPIC/status:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/info:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/settings:.* { my $ret=json2nameValue($EVENT,'',$JSONMAP);; if (defined $ret->{mode}) { $ret->{mode}=$ret->{mode} eq 'true' ? 'auto' : 'manual' };; if (defined $ret->{set_boost_minutes}) { $ret->{boost}=$ret->{set_boost_minutes}?'on' : 'off' };; for (qw(accelerated_heating boost)) { next if !defined $ret->{$_};; $ret->{$_}=$ret->{$_} eq 'true' ? 'on' : 'off' };; return $ret }\
  $DEVICETOPIC/online:.* online\
  $DEVICETOPIC/announce:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_shellytrv_BC33AC034B28 room Heizung
attr MQTT2_shellytrv_BC33AC034B28 setList accelerated_heating:on,off {my $val=$EVTPART1 eq 'on'?1:0;; qq($DEVICETOPIC/thermostat/0/command/accelerated_heating $val)}\
  mode:auto,manual {my $val=$EVTPART1 eq 'auto'?1:0;; qq($DEVICETOPIC/thermostat/0/command/schedule $val)}\
  schedule_profile:slider,1,1,5,1 $DEVICETOPIC/thermostat/0/command/schedule_profile $EVTPART1\
  desired-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/target_t $EVTPART1\
  external-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/ext_t $EVTPART1\
  valve:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_pos $EVTPART1\
  valve_min_percent:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_min_percent $EVTPART1\
  boost:on,off {my $val=$EVTPART1 eq 'on'?5:0;; qq($DEVICETOPIC/thermostat/0/command/boost_minutes $val)}\
  boost_minutes $DEVICETOPIC/thermostat/0/command/boost_minutes $EVTPART1\
  set_boost_minutes $DEVICETOPIC/thermostat/0/command/set_boost_minutes $EVTPART1
attr MQTT2_shellytrv_BC33AC034B28 setStateList on off
attr MQTT2_shellytrv_BC33AC034B28 stateFormat Measured: temperature Battery: batteryPercent %
attr MQTT2_shellytrv_BC33AC034B28 userReadings t_target {ReadingsNum($name,'thermostats_1_target_t_value',0);;;;},\
t_value {ReadingsNum($name,'tmp_value',0);;;;}
attr MQTT2_shellytrv_BC33AC034B28 webCmd desired-temp
define MQTT2_shellytrv_BC33AC069136 MQTT2_DEVICE shellytrv_BC33AC069136
setuuid MQTT2_shellytrv_BC33AC069136 63555d80-f33f-b657-54c6-4b76c2ffb5060820
attr MQTT2_shellytrv_BC33AC069136 DbLogInclude t_target,t_value
attr MQTT2_shellytrv_BC33AC069136 alias Badezimmer
attr MQTT2_shellytrv_BC33AC069136 devicetopic shellies/shellytrv-BC33AC069136
attr MQTT2_shellytrv_BC33AC069136 genericDeviceType thermostat
attr MQTT2_shellytrv_BC33AC069136 icon temp_control
attr MQTT2_shellytrv_BC33AC069136 jsonMap bat:0 bat_value:batteryPercent bat_voltage:batteryVoltage target_t_value:desired-temp thermostats_1_tmp_value:temperature thermostats_1_valve_min_percent:valve_min_percent thermostats_1_target_t_accelerated_heating:accelerated_heating thermostats_1_schedule:mode thermostats_1_pos:valve
attr MQTT2_shellytrv_BC33AC069136 model shelly_TRV
attr MQTT2_shellytrv_BC33AC069136 readingList $DEVICETOPIC/status:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/info:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/settings:.* { my $ret=json2nameValue($EVENT,'',$JSONMAP);; if (defined $ret->{mode}) { $ret->{mode}=$ret->{mode} eq 'true' ? 'auto' : 'manual' };; if (defined $ret->{set_boost_minutes}) { $ret->{boost}=$ret->{set_boost_minutes}?'on' : 'off' };; for (qw(accelerated_heating boost)) { next if !defined $ret->{$_};; $ret->{$_}=$ret->{$_} eq 'true' ? 'on' : 'off' };; return $ret }\
  $DEVICETOPIC/online:.* online\
  $DEVICETOPIC/announce:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_shellytrv_BC33AC069136 room Heizung
attr MQTT2_shellytrv_BC33AC069136 setList accelerated_heating:on,off {my $val=$EVTPART1 eq 'on'?1:0;; qq($DEVICETOPIC/thermostat/0/command/accelerated_heating $val)}\
  mode:auto,manual {my $val=$EVTPART1 eq 'auto'?1:0;; qq($DEVICETOPIC/thermostat/0/command/schedule $val)}\
  schedule_profile:slider,1,1,5,1 $DEVICETOPIC/thermostat/0/command/schedule_profile $EVTPART1\
  desired-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/target_t $EVTPART1\
  external-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/ext_t $EVTPART1\
  valve:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_pos $EVTPART1\
  valve_min_percent:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_min_percent $EVTPART1\
  boost:on,off {my $val=$EVTPART1 eq 'on'?5:0;; qq($DEVICETOPIC/thermostat/0/command/boost_minutes $val)}\
  boost_minutes $DEVICETOPIC/thermostat/0/command/boost_minutes $EVTPART1\
  set_boost_minutes $DEVICETOPIC/thermostat/0/command/set_boost_minutes $EVTPART1
attr MQTT2_shellytrv_BC33AC069136 setStateList on off
attr MQTT2_shellytrv_BC33AC069136 stateFormat Measured: temperature Battery: batteryPercent %
attr MQTT2_shellytrv_BC33AC069136 userReadings t_target {ReadingsNum($name,'thermostats_1_target_t_value',0);;;;},\
t_value {ReadingsNum($name,'tmp_value',0);;;;}
attr MQTT2_shellytrv_BC33AC069136 webCmd desired-temp
define MQTT2_shellytrv_60A423D7D5F0 MQTT2_DEVICE shellytrv_60A423D7D5F0
setuuid MQTT2_shellytrv_60A423D7D5F0 63555da8-f33f-b657-f0f0-e502cdf03a081bb8
attr MQTT2_shellytrv_60A423D7D5F0 DbLogInclude t_target,t_value
attr MQTT2_shellytrv_60A423D7D5F0 alias Hauke's Zimmer
attr MQTT2_shellytrv_60A423D7D5F0 devicetopic shellies/shellytrv-60A423D7D5F0
attr MQTT2_shellytrv_60A423D7D5F0 genericDeviceType thermostat
attr MQTT2_shellytrv_60A423D7D5F0 icon temp_control
attr MQTT2_shellytrv_60A423D7D5F0 jsonMap bat:0 bat_value:batteryPercent bat_voltage:batteryVoltage target_t_value:desired-temp thermostats_1_tmp_value:temperature thermostats_1_valve_min_percent:valve_min_percent thermostats_1_target_t_accelerated_heating:accelerated_heating thermostats_1_schedule:mode thermostats_1_pos:valve
attr MQTT2_shellytrv_60A423D7D5F0 model shelly_TRV
attr MQTT2_shellytrv_60A423D7D5F0 readingList $DEVICETOPIC/status:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/info:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/settings:.* { my $ret=json2nameValue($EVENT,'',$JSONMAP);; if (defined $ret->{mode}) { $ret->{mode}=$ret->{mode} eq 'true' ? 'auto' : 'manual' };; if (defined $ret->{set_boost_minutes}) { $ret->{boost}=$ret->{set_boost_minutes}?'on' : 'off' };; for (qw(accelerated_heating boost)) { next if !defined $ret->{$_};; $ret->{$_}=$ret->{$_} eq 'true' ? 'on' : 'off' };; return $ret }\
  $DEVICETOPIC/online:.* online\
  $DEVICETOPIC/announce:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_shellytrv_60A423D7D5F0 room Heizung
attr MQTT2_shellytrv_60A423D7D5F0 setList accelerated_heating:on,off {my $val=$EVTPART1 eq 'on'?1:0;; qq($DEVICETOPIC/thermostat/0/command/accelerated_heating $val)}\
  mode:auto,manual {my $val=$EVTPART1 eq 'auto'?1:0;; qq($DEVICETOPIC/thermostat/0/command/schedule $val)}\
  schedule_profile:slider,1,1,5,1 $DEVICETOPIC/thermostat/0/command/schedule_profile $EVTPART1\
  desired-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/target_t $EVTPART1\
  external-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/ext_t $EVTPART1\
  valve:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_pos $EVTPART1\
  valve_min_percent:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_min_percent $EVTPART1\
  boost:on,off {my $val=$EVTPART1 eq 'on'?5:0;; qq($DEVICETOPIC/thermostat/0/command/boost_minutes $val)}\
  boost_minutes $DEVICETOPIC/thermostat/0/command/boost_minutes $EVTPART1\
  set_boost_minutes $DEVICETOPIC/thermostat/0/command/set_boost_minutes $EVTPART1
attr MQTT2_shellytrv_60A423D7D5F0 setStateList on off
attr MQTT2_shellytrv_60A423D7D5F0 stateFormat Measured: temperature Battery: batteryPercent %
attr MQTT2_shellytrv_60A423D7D5F0 userReadings t_target {ReadingsNum($name,'thermostats_1_target_t_value',0);;;;},\
t_value {ReadingsNum($name,'tmp_value',0);;;;}
attr MQTT2_shellytrv_60A423D7D5F0 webCmd desired-temp
define MQTT2_shellytrv_60A423D7E7B0 MQTT2_DEVICE shellytrv_60A423D7E7B0
setuuid MQTT2_shellytrv_60A423D7E7B0 63555db3-f33f-b657-8518-a2ab5b77e32c9cf1
attr MQTT2_shellytrv_60A423D7E7B0 DbLogInclude t_target,t_value
attr MQTT2_shellytrv_60A423D7E7B0 alias Marit's Zimmer
attr MQTT2_shellytrv_60A423D7E7B0 devicetopic shellies/shellytrv-60A423D7E7B0
attr MQTT2_shellytrv_60A423D7E7B0 genericDeviceType thermostat
attr MQTT2_shellytrv_60A423D7E7B0 icon temp_control
attr MQTT2_shellytrv_60A423D7E7B0 jsonMap bat:0 bat_value:batteryPercent bat_voltage:batteryVoltage target_t_value:desired-temp thermostats_1_tmp_value:temperature thermostats_1_valve_min_percent:valve_min_percent thermostats_1_target_t_accelerated_heating:accelerated_heating thermostats_1_schedule:mode thermostats_1_pos:valve
attr MQTT2_shellytrv_60A423D7E7B0 model shelly_TRV
attr MQTT2_shellytrv_60A423D7E7B0 readingList $DEVICETOPIC/status:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/info:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/settings:.* { my $ret=json2nameValue($EVENT,'',$JSONMAP);; if (defined $ret->{mode}) { $ret->{mode}=$ret->{mode} eq 'true' ? 'auto' : 'manual' };; if (defined $ret->{set_boost_minutes}) { $ret->{boost}=$ret->{set_boost_minutes}?'on' : 'off' };; for (qw(accelerated_heating boost)) { next if !defined $ret->{$_};; $ret->{$_}=$ret->{$_} eq 'true' ? 'on' : 'off' };; return $ret }\
  $DEVICETOPIC/online:.* online\
  $DEVICETOPIC/announce:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_shellytrv_60A423D7E7B0 room Heizung
attr MQTT2_shellytrv_60A423D7E7B0 setList accelerated_heating:on,off {my $val=$EVTPART1 eq 'on'?1:0;; qq($DEVICETOPIC/thermostat/0/command/accelerated_heating $val)}\
  mode:auto,manual {my $val=$EVTPART1 eq 'auto'?1:0;; qq($DEVICETOPIC/thermostat/0/command/schedule $val)}\
  schedule_profile:slider,1,1,5,1 $DEVICETOPIC/thermostat/0/command/schedule_profile $EVTPART1\
  desired-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/target_t $EVTPART1\
  external-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/ext_t $EVTPART1\
  valve:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_pos $EVTPART1\
  valve_min_percent:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_min_percent $EVTPART1\
  boost:on,off {my $val=$EVTPART1 eq 'on'?5:0;; qq($DEVICETOPIC/thermostat/0/command/boost_minutes $val)}\
  boost_minutes $DEVICETOPIC/thermostat/0/command/boost_minutes $EVTPART1\
  set_boost_minutes $DEVICETOPIC/thermostat/0/command/set_boost_minutes $EVTPART1
attr MQTT2_shellytrv_60A423D7E7B0 setStateList on off
attr MQTT2_shellytrv_60A423D7E7B0 stateFormat Measured: temperature Battery: batteryPercent %
attr MQTT2_shellytrv_60A423D7E7B0 userReadings t_target {ReadingsNum($name,'thermostats_1_target_t_value',0)},\
t_value {ReadingsNum($name,'tmp_value',0)}
attr MQTT2_shellytrv_60A423D7E7B0 webCmd desired-temp
define dummyUrlaub dummy
setuuid dummyUrlaub 635fbdb2-f33f-b657-d955-605dc62a52d46845
attr dummyUrlaub alias Urlaubs-/Sommermodus Heizung
attr dummyUrlaub devStateIcon on:general_an@orange off:general_aus@grey
attr dummyUrlaub group Heizung
attr dummyUrlaub readingList state
attr dummyUrlaub room Heizung,Urlaub
attr dummyUrlaub setList on off
define notifyUrlaubAn notify dummyUrlaub:on\
	set MQTT2_shellytrv_B4E3F9D62471 mode auto;;\
	set MQTT2_shellytrv_B4E3F9D62471 schedule_profile 5;;\
	set MQTT2_shellytrv_BC33AC069136 mode auto;;\
	set MQTT2_shellytrv_BC33AC069136 schedule_profile 5;;\
	set MQTT2_shellytrv_60A423D7D5F0 mode auto;;\
	set MQTT2_shellytrv_60A423D7D5F0 schedule_profile 5;;\
	set MQTT2_shellytrv_60A423D7E7B0 mode auto;;\
	set MQTT2_shellytrv_60A423D7E7B0 schedule_profile 5;;\
	set MQTT2_shellytrv_BC33AC034B28 mode auto;;\
	set MQTT2_shellytrv_BC33AC034B28 schedule_profile 5;;\

setuuid notifyUrlaubAn 635fc0c0-f33f-b657-0402-cfaaba2e5630fa32
attr notifyUrlaubAn group Heizung
attr notifyUrlaubAn icon edit_settings
attr notifyUrlaubAn room Heizung
define notifyUrlaubAus notify dummyUrlaub:off\
	set MQTT2_shellytrv_B4E3F9D62471 mode manual;;\
	set MQTT2_shellytrv_B4E3F9D62471 desired-temp 20;;\
	set MQTT2_shellytrv_BC33AC069136 mode manual;;\
	set MQTT2_shellytrv_BC33AC069136 desired-temp 20;;\
	set MQTT2_shellytrv_60A423D7D5F0 mode manual;;\
	set MQTT2_shellytrv_60A423D7D5F0 desired-temp 20;;\
	set MQTT2_shellytrv_60A423D7E7B0 mode manual;;\
	set MQTT2_shellytrv_60A423D7E7B0 desired-temp 20;;\
	set MQTT2_shellytrv_BC33AC034B28 mode manual;;\
	set MQTT2_shellytrv_BC33AC034B28 desired-temp 18;;
setuuid notifyUrlaubAus 635fc1f7-f33f-b657-cf33-22570f0b3ddc3d47
attr notifyUrlaubAus group Heizung
attr notifyUrlaubAus icon edit_settings
attr notifyUrlaubAus room Heizung
define rgHeizung readingsGroup <Thermosstat>,<Temperatur>,<Voreinstellung>,<Schedule>,<Mode> TYPE=MQTT2_DEVICE:FILTER=room=Heizung:temperature,desired-temp,thermostats_1_schedule_profile,mode
setuuid rgHeizung 63603ee5-f33f-b657-3fec-10fa08a9e88de024
attr rgHeizung alias Thermosstate
attr rgHeizung group Heizung
attr rgHeizung room Urlaub
attr rgHeizung sortDevices 1
define MQTT2_watermeter MQTT2_DEVICE watermeter
setuuid MQTT2_watermeter 636acf4d-f33f-b657-5f75-d919d4fcbc9fbee2
attr MQTT2_watermeter DbLogInclude value
attr MQTT2_watermeter alias Wasserzähler
attr MQTT2_watermeter comment Zählernummer: 8PIP0005910993
attr MQTT2_watermeter group Wasser
attr MQTT2_watermeter readingList watermeter:water/connection:.* connection\
watermeter:water/uptime:.* uptime\
watermeter:water/freeMem:.* freeMem\
watermeter:water/wifiRSSI:.* wifiRSSI\
watermeter:water/CPUtemp:.* CPUtemp\
watermeter:water/main/value:.* value\
watermeter:water/main/error:.* error\
watermeter:water/main/rate:.* rate\
watermeter:water/main/changeabsolut:.* changeabsolut\
watermeter:water/main/raw:.* raw\
watermeter:water/main/timestamp:.* timestamp\
watermeter:water/main/json:.* { json2nameValue($EVENT) }\
watermeter:water/MAC:.* MAC\
watermeter:water/IP:.* IP\
watermeter:water/hostname:.* hostname\
watermeter:water/interval:.* interval\
watermeter:water/main/rate_per_time_unit:.* rate_per_time_unit\
watermeter:water/main/rate_per_digitalization_round:.* rate_per_digitalization_round\
watermeter:water/status:.* status
attr MQTT2_watermeter room Zähler
attr MQTT2_watermeter sortby 1
attr MQTT2_watermeter stateFormat value m3
define Wasserstatistik statistics MQTT2_watermeter
setuuid Wasserstatistik 636ad0c3-f33f-b657-faba-9adedeb0e2a174e7
attr Wasserstatistik deltaReadings value
attr Wasserstatistik group Wasser
attr Wasserstatistik room Zähler
attr Wasserstatistik singularReadings MQTT2_watermeter:value:Delta:(Year|Month|Hour|Day)
attr Wasserstatistik sortby 2
define myPlot_Watermeter SVG dblog:myPlot_Watermeter:HISTORY
setuuid myPlot_Watermeter 636fddbd-f33f-b657-d8f4-fbc39da7a413365e
attr myPlot_Watermeter endPlotToday 1
attr myPlot_Watermeter group Wasser
attr myPlot_Watermeter room Zähler
define MQTT2_gasmeter MQTT2_DEVICE gasmeter
setuuid MQTT2_gasmeter 63768732-f33f-b657-01fd-7e39efddf2511671
attr MQTT2_gasmeter DbLogInclude value
attr MQTT2_gasmeter alias Gaszähler
attr MQTT2_gasmeter comment Zählernummer: 20543827
attr MQTT2_gasmeter group Gas
attr MQTT2_gasmeter readingList gasmeter:gas/connection:.* connection\
gasmeter:gas/uptime:.* uptime\
gasmeter:gas/freeMem:.* freeMem\
gasmeter:gas/wifiRSSI:.* wifiRSSI\
gasmeter:gas/CPUtemp:.* CPUtemp\
gasmeter:gas/main/value:.* value\
gasmeter:gas/main/error:.* error\
gasmeter:gas/main/rate:.* rate\
gasmeter:gas/main/changeabsolut:.* changeabsolut\
gasmeter:gas/main/raw:.* raw\
gasmeter:gas/main/timestamp:.* timestamp\
gasmeter:gas/main/json:.* { json2nameValue($EVENT) }\
gasmeter:gas/MAC:.* MAC\
gasmeter:gas/IP:.* IP\
gasmeter:gas/hostname:.* hostname\
gasmeter:gas/interval:.* interval\
gasmeter:gas/main/rate_per_time_unit:.* rate_per_time_unit\
gasmeter:gas/main/rate_per_digitalization_round:.* rate_per_digitalization_round\
gasmeter:gas/status:.* status
attr MQTT2_gasmeter room Zähler
attr MQTT2_gasmeter sortby 1
attr MQTT2_gasmeter stateFormat value imp
define Gasstatistik statistics MQTT2_gasmeter
setuuid Gasstatistik 63768913-f33f-b657-c3b9-3e733b3ca9b56407
attr Gasstatistik deltaReadings value
attr Gasstatistik group Gas
attr Gasstatistik room Zähler
attr Gasstatistik singularReadings MQTT2_gasmeter:value:Delta:(Year|Month|Hour|Day)
attr Gasstatistik sortby 2
define myPlot_Gasmeter SVG dblog:myPlot_Gasmeter:HISTORY
setuuid myPlot_Gasmeter 6376a59e-f33f-b657-c1eb-4139936461669758
attr myPlot_Gasmeter endPlotToday 1
attr myPlot_Gasmeter group Gas
attr myPlot_Gasmeter room Zähler
define myPlot_Stromzaehler SVG dblog:myPlot_Stromzaehler:HISTORY
setuuid myPlot_Stromzaehler 637e89d2-f33f-b657-2d4c-ec8b46c7a09f8c2f
attr myPlot_Stromzaehler endPlotToday 1
attr myPlot_Stromzaehler group Strom
attr myPlot_Stromzaehler room Zähler
define MQTT2_shellytrv_B4E3F9D62471 MQTT2_DEVICE shellytrv_B4E3F9D62471
setuuid MQTT2_shellytrv_B4E3F9D62471 6443d5bf-f33f-b657-6534-646e95fa2f207855
attr MQTT2_shellytrv_B4E3F9D62471 DbLogInclude t_target,t_value
attr MQTT2_shellytrv_B4E3F9D62471 alias Arbeitszimmer
attr MQTT2_shellytrv_B4E3F9D62471 devicetopic shellies/shellytrv-B4E3F9D62471
attr MQTT2_shellytrv_B4E3F9D62471 genericDeviceType thermostat
attr MQTT2_shellytrv_B4E3F9D62471 icon temp_control
attr MQTT2_shellytrv_B4E3F9D62471 jsonMap bat:0 bat_value:batteryPercent bat_voltage:batteryVoltage target_t_value:desired-temp thermostats_1_tmp_value:temperature thermostats_1_valve_min_percent:valve_min_percent thermostats_1_target_t_accelerated_heating:accelerated_heating thermostats_1_schedule:mode thermostats_1_pos:valve
attr MQTT2_shellytrv_B4E3F9D62471 model shelly_TRV
attr MQTT2_shellytrv_B4E3F9D62471 readingList $DEVICETOPIC/status:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/info:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/settings:.* { my $ret=json2nameValue($EVENT,'',$JSONMAP);; if (defined $ret->{mode}) { $ret->{mode}=$ret->{mode} eq 'true' ? 'auto' : 'manual' };; if (defined $ret->{set_boost_minutes}) { $ret->{boost}=$ret->{set_boost_minutes}?'on' : 'off' };; for (qw(accelerated_heating boost)) { next if !defined $ret->{$_};; $ret->{$_}=$ret->{$_} eq 'true' ? 'on' : 'off' };; return $ret }\
  $DEVICETOPIC/online:.* online\
  $DEVICETOPIC/announce:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_shellytrv_B4E3F9D62471 room Heizung
attr MQTT2_shellytrv_B4E3F9D62471 setList accelerated_heating:on,off {my $val=$EVTPART1 eq 'on'?1:0;; qq($DEVICETOPIC/thermostat/0/command/accelerated_heating $val)}\
  mode:auto,manual {my $val=$EVTPART1 eq 'auto'?1:0;; qq($DEVICETOPIC/thermostat/0/command/schedule $val)}\
  schedule_profile:slider,1,1,5,1 $DEVICETOPIC/thermostat/0/command/schedule_profile $EVTPART1\
  desired-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/target_t $EVTPART1\
  external-temp:slider,4.0,0.5,31.0,1 $DEVICETOPIC/thermostat/0/command/ext_t $EVTPART1\
  valve:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_pos $EVTPART1\
  valve_min_percent:slider,0,1,100,1 $DEVICETOPIC/thermostat/0/command/valve_min_percent $EVTPART1\
  boost:on,off {my $val=$EVTPART1 eq 'on'?5:0;; qq($DEVICETOPIC/thermostat/0/command/boost_minutes $val)}\
  boost_minutes $DEVICETOPIC/thermostat/0/command/boost_minutes $EVTPART1\
  set_boost_minutes $DEVICETOPIC/thermostat/0/command/set_boost_minutes $EVTPART1
attr MQTT2_shellytrv_B4E3F9D62471 setStateList on off
attr MQTT2_shellytrv_B4E3F9D62471 stateFormat Measured: temperature Battery: batteryPercent %
attr MQTT2_shellytrv_B4E3F9D62471 userReadings t_target {ReadingsNum($name,'thermostats_1_target_t_value',0);;;;},\
t_value {ReadingsNum($name,'tmp_value',0);;;;}
attr MQTT2_shellytrv_B4E3F9D62471 webCmd desired-temp
define myPlot_Heizung_Arbeitszimmer SVG dblog:myPlot_Heizung_Arbeitszimmer:HISTORY
setuuid myPlot_Heizung_Arbeitszimmer 6443d8e4-f33f-b657-1379-42e069caa750a9d2
attr myPlot_Heizung_Arbeitszimmer endPlotToday 1
attr myPlot_Heizung_Arbeitszimmer fixedrange week
attr myPlot_Heizung_Arbeitszimmer group Plots
attr myPlot_Heizung_Arbeitszimmer room Heizung,Plots->Heizung
define MQTT2_shellyplus1pm_4855199ce640 MQTT2_DEVICE shellyplus1pm_4855199ce640
setuuid MQTT2_shellyplus1pm_4855199ce640 646e5c1a-f33f-b657-ac25-cd977dd523470fed
attr MQTT2_shellyplus1pm_4855199ce640 DbLogInclude power
attr MQTT2_shellyplus1pm_4855199ce640 alias Garten
attr MQTT2_shellyplus1pm_4855199ce640 devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_shellyplus1pm_4855199ce640 devicetopic shellyplus1pm-4855199ce640
attr MQTT2_shellyplus1pm_4855199ce640 event-min-interval .*:60
attr MQTT2_shellyplus1pm_4855199ce640 event-on-change-reading .*
attr MQTT2_shellyplus1pm_4855199ce640 genericDeviceType outlet
attr MQTT2_shellyplus1pm_4855199ce640 getList in_mode:noArg in_mode $DEVICETOPIC/rpc {"id": 1,"src":"$DEVICETOPIC", "method": "Switch.GetConfig", "params": {"id": 0}}
attr MQTT2_shellyplus1pm_4855199ce640 group MQTT2_DEVICE
attr MQTT2_shellyplus1pm_4855199ce640 icon mqtt_device
attr MQTT2_shellyplus1pm_4855199ce640 jsonMap switch_state:state switch_aenergy_total:aenergy_total switch_apower:apower switch_temperature_tC:temperature switch_temperature_tF:0 params_wifi_sta_ip:ip params_switch_0_temperature_tC:temperature params_switch_0_temperature_tF:0 result_in_mode:in_mode
attr MQTT2_shellyplus1pm_4855199ce640 model shellyPlus_1pm
attr MQTT2_shellyplus1pm_4855199ce640 readingList $DEVICETOPIC/online:.* online\
  $DEVICETOPIC/events/rpc:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  $DEVICETOPIC/status/mqtt:.* { json2nameValue($EVENT, 'mqtt_', $JSONMAP) }\
  $DEVICETOPIC/status/sys:.* { json2nameValue($EVENT, 'sys_', $JSONMAP) }\
  $DEVICETOPIC/status/switch_0:.* { $EVENT =~ s/"output":true/"state":"on"/g;; $EVENT =~ s/"output":false/"state":"off"/g;; json2nameValue($EVENT, 'switch_', $JSONMAP) }\
  $DEVICETOPIC/status/cloud:.* {}\
  $DEVICETOPIC/rpc:.* { json2nameValue($EVENT, 'req_', $JSONMAP, 'in_mode')}\
  $DEVICETOPIC/status/input_0:.* { json2nameValue($EVENT, 'input_', $JSONMAP) }\
  fhem2shelly/rpc:.* {}\
shellyplus1pm_4855199ce640:shellyplus1pm-4855199ce640/status/wifi:.* { json2nameValue($EVENT) }\
shellyplus1pm_4855199ce640:shellyplus1pm-4855199ce640/status/ble:.* ble\
shellyplus1pm_4855199ce640:shellyplus1pm-4855199ce640/status/ws:.* { json2nameValue($EVENT) }
attr MQTT2_shellyplus1pm_4855199ce640 room Energie,System->HomeKit,Urlaub
attr MQTT2_shellyplus1pm_4855199ce640 setList toggle:noArg $DEVICETOPIC/rpc {"id":0,"src":"fhem2shelly","method":"Switch.Toggle","params": {"id":0}}\
  off:noArg $DEVICETOPIC/rpc {"id":0,"src":"fhem2shelly","method":"Switch.Set","params": {"id":0,"on":false}}\
  on:noArg $DEVICETOPIC/rpc {"id":0,"src":"fhem2shelly","method":"Switch.Set","params": {"id":0,"on":true}}\
  on-for-timer $DEVICETOPIC/rpc {"id":0,"src":"fhem2shelly","method":"Switch.Set","params": {"id":0,"on":true,"toggle_after":$EVTPART1}}\
  off-for-timer $DEVICETOPIC/rpc {"id":0,"src":"fhem2shelly","method":"Switch.Set","params": {"id":0,"on":false,"toggle_after":$EVTPART1}}\
  in_mode:toggle,flip,detached {fhem("sleep 0.2;; get $NAME in_mode");; my $val = $EVTPART1 ne 'toggle' ? $EVTPART1 : ReadingsVal($NAME,'in_mode','flip') eq 'flip' ? 'detached':'flip';; qq($DEVICETOPIC/rpc {"id":1,"src":"fhem2shelly","method":"Switch.SetConfig","params": {"id":0, "config": {"in_mode": "$val"}}})}\
  x_update:noArg $DEVICETOPIC/rpc {"id":0,"src":"fhem2shelly","method":"Shelly.Update","params": {"stage":"stable"}}\
  x_reboot:noArg $DEVICETOPIC/rpc {"id":0,"src":"fhem2shelly","method":"Shelly.Reboot"}\
  x_eco:true,false $DEVICETOPIC/rpc {"id":0,"src":"fhem2shelly","method":"Sys.SetConfig","params": {"config": {"device": {"eco_mode": $EVTPART1}}}}
attr MQTT2_shellyplus1pm_4855199ce640 setStateList on off toggle on-for-timer off-for-timer
attr MQTT2_shellyplus1pm_4855199ce640 userReadings power {ReadingsNum($name,'apower',0)},\
ip {return '192.168.2.29'}
attr MQTT2_shellyplus1pm_4855199ce640 webCmd toggle
define wdt_Pool WeekdayTimer MQTT2_shellyplus1pm_4855199ce640 0123456|12:00|on 0123456|14:00|off 0123456|18:30|off
setuuid wdt_Pool 646e7a82-f33f-b657-d3b3-f6f7ade30580e603
attr wdt_Pool alias Zeitschaltung Poolpumpe
attr wdt_Pool commandTemplate set $NAME  $EVENT
attr wdt_Pool devStateIcon {AttrVal($name,'disable','0') eq "0" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr wdt_Pool disable 1
attr wdt_Pool group Schaltungen
attr wdt_Pool icon time_timer
attr wdt_Pool room Energie,Urlaub
attr wdt_Pool webCmd enable:disable
define myPlot_Poolpumpe SVG dblog:myPlot_Poolpumpe:HISTORY
setuuid myPlot_Poolpumpe 64709c8d-f33f-b657-3605-37655d99a853e486
attr myPlot_Poolpumpe endPlotToday 1
attr myPlot_Poolpumpe fixedrange week
attr myPlot_Poolpumpe room Plots->Pumpen
define doifSchalter_PCAus DOIF ([MQTT2_DVES_ED41C4:power] < 11) \
(\
	set MQTT2_DVES_ED41C4 off;;\
)
setuuid doifSchalter_PCAus 64748bfd-f33f-b657-8f0e-52ab544a5e34587a
attr doifSchalter_PCAus alias Abschaltung Computer (60s<11W)
attr doifSchalter_PCAus devStateIcon {ReadingsVal($name,"mode",undef) eq "enabled" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr doifSchalter_PCAus group Schaltungen
attr doifSchalter_PCAus icon helper_doif
attr doifSchalter_PCAus room Energie
attr doifSchalter_PCAus wait 60
attr doifSchalter_PCAus webCmd enable:disable
define doifHUEMaritAbschalten DOIF ([08:00] and [HUEDevice17:state] eq "on") (set HUEDevice17 off)
setuuid doifHUEMaritAbschalten 6474a5d2-f33f-b657-78c4-d5bdd861364e4f7c
attr doifHUEMaritAbschalten icon helper_doif
attr doifHUEMaritAbschalten room HUE
define doifHUEHaukeAbschalten DOIF ([08:00] and [HUEDevice5:state] eq "on") (set HUEDevice5 off)
setuuid doifHUEHaukeAbschalten 6474a7cf-f33f-b657-4be8-012ac52454820c06
attr doifHUEHaukeAbschalten icon helper_doif
attr doifHUEHaukeAbschalten room HUE
define doifSchalter_TVAus DOIF ([21:00-18:00] and [MQTT2_shellyplug_s_896928:power] < 23) \
(\
	set MQTT2_shellyplug_s_896928 off;;\
)
setuuid doifSchalter_TVAus 6475c8f0-f33f-b657-e127-bea924ab916d529b
attr doifSchalter_TVAus alias Abschaltung Fernseher (180s<23W)
attr doifSchalter_TVAus devStateIcon {ReadingsVal($name,"mode",undef) eq "enabled" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr doifSchalter_TVAus group Schaltungen
attr doifSchalter_TVAus icon helper_doif
attr doifSchalter_TVAus room Energie
attr doifSchalter_TVAus wait 60
attr doifSchalter_TVAus webCmd enable:disable
define MQTT2_DVES_9BFAF4 MQTT2_DEVICE DVES_9BFAF4
setuuid MQTT2_DVES_9BFAF4 647c9004-f33f-b657-eb09-ac555ca47d6800a6
attr MQTT2_DVES_9BFAF4 DbLogInclude power_gen,power_out,statTotal_kwh_genDay,statTotal_kwh_diffDay,statTotal_kwh_outDay,ENERGY_Today\

attr MQTT2_DVES_9BFAF4 alias Balkonkraftwerk
attr MQTT2_DVES_9BFAF4 autocreate 0
attr MQTT2_DVES_9BFAF4 devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power_gen","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_DVES_9BFAF4 event-min-interval .*:60
attr MQTT2_DVES_9BFAF4 event-on-change-reading .*
attr MQTT2_DVES_9BFAF4 genericDeviceType switch
attr MQTT2_DVES_9BFAF4 group Balkonkraftwerk
attr MQTT2_DVES_9BFAF4 jsonMap POWER1:0 POWER2:0 POWER3:0 POWER4:0 Dimmer:0 Channel_0:0 Channel_1:0 Channel_2:0 Channel_3:0 Channel_4:0 Channel_5:0 HSBColor:0 Color:0
attr MQTT2_DVES_9BFAF4 model tasmota_basic_state_power1
attr MQTT2_DVES_9BFAF4 readingList tele/shellyplus1pm_9BFAF4/LWT:.* LWT\
  tele/shellyplus1pm_9BFAF4/STATE:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/shellyplus1pm_9BFAF4/SENSOR:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/shellyplus1pm_9BFAF4/INFO.:.* { $EVENT =~ m,^..Info[1-3]..(.+).$, ?  json2nameValue($1,'',$JSONMAP) : json2nameValue($EVENT,'',$JSONMAP) }\
  tele/shellyplus1pm_9BFAF4/UPTIME:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  stat/shellyplus1pm_9BFAF4/POWER1:.* state\
  stat/shellyplus1pm_9BFAF4/RESULT:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_DVES_9BFAF4 room Zähler
attr MQTT2_DVES_9BFAF4 setList off:noArg    cmnd/shellyplus1pm_9BFAF4/POWER1 0\
  on:noArg     cmnd/shellyplus1pm_9BFAF4/POWER1 1\
  toggle:noArg cmnd/shellyplus1pm_9BFAF4/POWER1 2\
  setOtaUrl:textField cmnd/shellyplus1pm_9BFAF4/OtaUrl $EVTPART1\
  upgrade:noArg   cmnd/shellyplus1pm_9BFAF4/upgrade 1
attr MQTT2_DVES_9BFAF4 setStateList on off toggle
attr MQTT2_DVES_9BFAF4 userReadings power_gen { ReadingsNum($name,'ENERGY_Power',0)},\
power_diff { ReadingsNum("Stromzaehler",'power',0) + ReadingsNum($name,"power_gen",0) },\
power_out {	if (ReadingsNum("Stromzaehler","power",0) < 0 ) {return (ReadingsNum("Stromzaehler","power",0))} else {return 0}},\
total_kwh_gen integral { ReadingsNum($name,'power_gen',0)/3600000.0;; },\
total_kwh_diff integral { ReadingsNum($name,'power_diff',0)/3600000.0;; },\
total_kwh_out integral { ReadingsNum($name,'power_out',0)/3600000.0;; },\
online { if (ReadingsVal($name,"LWT","") eq "Online") {return "true"} else {return "false"}},\
ip {ReadingsVal($name,"IPAddress","")}
attr MQTT2_DVES_9BFAF4 webCmd :
define Balkonkraftwerkstatistik statistics MQTT2_DVES_9BFAF4
setuuid Balkonkraftwerkstatistik 64834eeb-f33f-b657-7dc2-e385011b5dde7999
attr Balkonkraftwerkstatistik deltaReadings total_kwh_diff,total_kwh_gen,total_kwh_out
attr Balkonkraftwerkstatistik group Balkonkraftwerk
attr Balkonkraftwerkstatistik room Zähler
attr Balkonkraftwerkstatistik singularReadings MQTT2_DVES_9BFAF4:total_kwh.*:Delta:Day
define myPlot_Balkonkraftwerk1 SVG dblog:myPlot_Balkonkraftwerk1:HISTORY
setuuid myPlot_Balkonkraftwerk1 649f1e97-f33f-b657-1630-39195e936708bf47
attr myPlot_Balkonkraftwerk1 plotsize 800,320
attr myPlot_Balkonkraftwerk1 room Plots->Strom
define link_weblinks weblink cmdList edit_settings:weblink:list+TYPE=weblink
setuuid link_weblinks 64a00fa2-f33f-b657-7dec-ec06f5a5c21094dc
attr link_weblinks icon edit_settings
attr link_weblinks room System->DevLinks
define link_readingsgroups weblink cmdList edit_settings:readingsGroup:list+TYPE=readingsGroup
setuuid link_readingsgroups 64a01310-f33f-b657-b12a-9dd9ddf81cc16cc4
attr link_readingsgroups icon edit_settings
attr link_readingsgroups room System->DevLinks
define link_readingsproxies weblink cmdList edit_settings:readingsProxy:list+TYPE=readingsProxy
setuuid link_readingsproxies 64a013f3-f33f-b657-811c-0e4c570b3a6005dc
attr link_readingsproxies icon edit_settings
attr link_readingsproxies room System->DevLinks
define dbrep_bkw3_maxValueGenDay DbRep dblog
setuuid dbrep_bkw3_maxValueGenDay 64a5b685-f33f-b657-21e5-15075e6c05e338da
attr dbrep_bkw3_maxValueGenDay aggregation day
attr dbrep_bkw3_maxValueGenDay allowDeletion 1
attr dbrep_bkw3_maxValueGenDay device MQTT2_DVES_9BFAF4
attr dbrep_bkw3_maxValueGenDay executeAfterProc set dbrep_bkw4_minValueOutDay minValue deleteOther
attr dbrep_bkw3_maxValueGenDay fastStart 1
attr dbrep_bkw3_maxValueGenDay reading statTotal_kwh_genDay
attr dbrep_bkw3_maxValueGenDay room System->Postgres
attr dbrep_bkw3_maxValueGenDay showproctime 1
attr dbrep_bkw3_maxValueGenDay stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_bkw3_maxValueGenDay timeDiffToNow d:3 FullDay
attr dbrep_bkw3_maxValueGenDay timeOlderThan d:1 FullDay
define dbrep_bkw4_minValueOutDay DbRep dblog
setuuid dbrep_bkw4_minValueOutDay 64a5b694-f33f-b657-e339-cbe446674cc53751
attr dbrep_bkw4_minValueOutDay aggregation day
attr dbrep_bkw4_minValueOutDay allowDeletion 1
attr dbrep_bkw4_minValueOutDay device MQTT2_DVES_9BFAF4
attr dbrep_bkw4_minValueOutDay executeAfterProc set dbrep_bkw5_kuehlschrank1_maxValueDay maxValue deleteOther
attr dbrep_bkw4_minValueOutDay fastStart 1
attr dbrep_bkw4_minValueOutDay reading statTotal_kwh_outDay
attr dbrep_bkw4_minValueOutDay room System->Postgres
attr dbrep_bkw4_minValueOutDay showproctime 1
attr dbrep_bkw4_minValueOutDay stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_bkw4_minValueOutDay timeDiffToNow d:3 FullDay
attr dbrep_bkw4_minValueOutDay timeOlderThan d:1 FullDay
define dbrep_bkw1_maxValueDiffDay DbRep dblog
setuuid dbrep_bkw1_maxValueDiffDay 64a5b694-f33f-b657-c4fb-a44b9dcb70b478d5
attr dbrep_bkw1_maxValueDiffDay aggregation day
attr dbrep_bkw1_maxValueDiffDay allowDeletion 1
attr dbrep_bkw1_maxValueDiffDay device MQTT2_DVES_9BFAF4
attr dbrep_bkw1_maxValueDiffDay executeAfterProc set dbrep_bkw2_maxValueEnergyToday maxValue deleteOther
attr dbrep_bkw1_maxValueDiffDay fastStart 1
attr dbrep_bkw1_maxValueDiffDay reading statTotal_kwh_diffDay
attr dbrep_bkw1_maxValueDiffDay room System->Postgres
attr dbrep_bkw1_maxValueDiffDay showproctime 1
attr dbrep_bkw1_maxValueDiffDay stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_bkw1_maxValueDiffDay timeDiffToNow d:3 FullDay
attr dbrep_bkw1_maxValueDiffDay timeOlderThan d:1 FullDay
define dbrep_bkw2_maxValueEnergyToday DbRep dblog
setuuid dbrep_bkw2_maxValueEnergyToday 64a5b694-f33f-b657-f96d-494d3bfafcb26c50
attr dbrep_bkw2_maxValueEnergyToday aggregation day
attr dbrep_bkw2_maxValueEnergyToday allowDeletion 1
attr dbrep_bkw2_maxValueEnergyToday device MQTT2_DVES_9BFAF4
attr dbrep_bkw2_maxValueEnergyToday executeAfterProc set dbrep_bkw3_maxValueGenDay maxValue deleteOther
attr dbrep_bkw2_maxValueEnergyToday fastStart 1
attr dbrep_bkw2_maxValueEnergyToday reading ENERGY_Today
attr dbrep_bkw2_maxValueEnergyToday room System->Postgres
attr dbrep_bkw2_maxValueEnergyToday showproctime 1
attr dbrep_bkw2_maxValueEnergyToday stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_bkw2_maxValueEnergyToday timeDiffToNow d:3 FullDay
attr dbrep_bkw2_maxValueEnergyToday timeOlderThan d:1 FullDay
define at_dbrep1_bkw_chain at *03:00:00 set dbrep_bkw1_maxValueDiffDay maxValue deleteOther
setuuid at_dbrep1_bkw_chain 64a5d337-f33f-b657-868b-b622bcbe950f2bf9
attr at_dbrep1_bkw_chain comment Dieses at-Device startet maxValue deleteOther auf dem ersten DbRep-Device. Anschließend\
folgen die anderen DbRep-Device für das BKW über executeAfterProc. So können mehrere\
DbRep-Devices resourcenschonend nacheinander abgearbeitet werden.
attr at_dbrep1_bkw_chain group Automatisierung
attr at_dbrep1_bkw_chain room System->Postgres
define myPlot_Balkonkraftwerk2 SVG dblog:myPlot_Balkonkraftwerk2:HISTORY
setuuid myPlot_Balkonkraftwerk2 64a814b4-f33f-b657-1f06-4d1603f8f3c93dde
attr myPlot_Balkonkraftwerk2 endPlotToday 1
attr myPlot_Balkonkraftwerk2 fixedrange month
attr myPlot_Balkonkraftwerk2 plotsize 800,320
attr myPlot_Balkonkraftwerk2 room Plots->Strom
define dbrep_zaehler2_gas_minValueHour DbRep dblog
setuuid dbrep_zaehler2_gas_minValueHour 64ac61d6-f33f-b657-f401-3dab60bb25d314f0
attr dbrep_zaehler2_gas_minValueHour aggregation hour
attr dbrep_zaehler2_gas_minValueHour allowDeletion 1
attr dbrep_zaehler2_gas_minValueHour device MQTT2_gasmeter
attr dbrep_zaehler2_gas_minValueHour executeAfterProc set dbrep_zaehler3_water_minValueHour minValue deleteOther
attr dbrep_zaehler2_gas_minValueHour fastStart 1
attr dbrep_zaehler2_gas_minValueHour reading value
attr dbrep_zaehler2_gas_minValueHour room System->Postgres
attr dbrep_zaehler2_gas_minValueHour showproctime 1
attr dbrep_zaehler2_gas_minValueHour stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_zaehler2_gas_minValueHour timestamp_begin previous_day_begin
attr dbrep_zaehler2_gas_minValueHour timestamp_end previous_day_end
define dbrep_zaehler3_water_minValueHour DbRep dblog
setuuid dbrep_zaehler3_water_minValueHour 64ac61f2-f33f-b657-91e0-9c30789e67e3782c
attr dbrep_zaehler3_water_minValueHour aggregation hour
attr dbrep_zaehler3_water_minValueHour allowDeletion 1
attr dbrep_zaehler3_water_minValueHour device MQTT2_watermeter
attr dbrep_zaehler3_water_minValueHour executeAfterProc set dbrep_zaehler4_water_avgDay averageValue writeToDB
attr dbrep_zaehler3_water_minValueHour fastStart 1
attr dbrep_zaehler3_water_minValueHour reading value
attr dbrep_zaehler3_water_minValueHour room System->Postgres
attr dbrep_zaehler3_water_minValueHour showproctime 1
attr dbrep_zaehler3_water_minValueHour stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_zaehler3_water_minValueHour timestamp_begin previous_day_begin
attr dbrep_zaehler3_water_minValueHour timestamp_end previous_day_end
define dbrep_zaehler4_water_avgDay DbRep dblog
setuuid dbrep_zaehler4_water_avgDay 64acf5d7-f33f-b657-2387-ce2756cfe643b772
attr dbrep_zaehler4_water_avgDay aggregation day
attr dbrep_zaehler4_water_avgDay allowDeletion 1
attr dbrep_zaehler4_water_avgDay device MQTT2_watermeter
attr dbrep_zaehler4_water_avgDay executeAfterProc set dbrep_zaehler5_strom_reduceLog reduceLog 7 maximum INCLUDE=Stromzaehler:total_consumption
attr dbrep_zaehler4_water_avgDay fastStart 1
attr dbrep_zaehler4_water_avgDay reading value
attr dbrep_zaehler4_water_avgDay room System->Postgres
attr dbrep_zaehler4_water_avgDay showproctime 1
attr dbrep_zaehler4_water_avgDay stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_zaehler4_water_avgDay timestamp_begin previous_day_begin
attr dbrep_zaehler4_water_avgDay timestamp_end previous_day_end
define at_dbrep2_zaehler_chain at *03:02:00 set dbrep_zaehler1_gas_water_blanks sqlCmd delete from history where device in ('MQTT2_watermeter','MQTT2_gasmeter') and (event='value: ' or value like '%N%');;
setuuid at_dbrep2_zaehler_chain 64acf93c-f33f-b657-f495-67eed927064b7e74
attr at_dbrep2_zaehler_chain group Automatisierung
attr at_dbrep2_zaehler_chain room System->Postgres
define dbrep_zaehler1_gas_water_blanks DbRep dblog
setuuid dbrep_zaehler1_gas_water_blanks 64ada42c-f33f-b657-e0ac-3b2c587976b45976
attr dbrep_zaehler1_gas_water_blanks allowDeletion 1
attr dbrep_zaehler1_gas_water_blanks executeAfterProc set dbrep_zaehler2_gas_minValueHour minValue deleteOther
attr dbrep_zaehler1_gas_water_blanks fastStart 1
attr dbrep_zaehler1_gas_water_blanks room System->Postgres
attr dbrep_zaehler1_gas_water_blanks showproctime 1
attr dbrep_zaehler1_gas_water_blanks stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_zaehler5_strom_reduceLog DbRep dblog
setuuid dbrep_zaehler5_strom_reduceLog 64ada5ef-f33f-b657-3f8a-d4d2b2bc8292c20b
attr dbrep_zaehler5_strom_reduceLog allowDeletion 1
attr dbrep_zaehler5_strom_reduceLog fastStart 1
attr dbrep_zaehler5_strom_reduceLog room System->Postgres
attr dbrep_zaehler5_strom_reduceLog showproctime 1
attr dbrep_zaehler5_strom_reduceLog stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_heizung01_az_target DbRep dblog
setuuid dbrep_heizung01_az_target 64adb10e-f33f-b657-677e-b2cc668f704eabe1
attr dbrep_heizung01_az_target allowDeletion 1
attr dbrep_heizung01_az_target device MQTT2_shellytrv_B4E3F9D62471
attr dbrep_heizung01_az_target executeAfterProc set dbrep_heizung02_az_value reduceLog 1 average
attr dbrep_heizung01_az_target fastStart 1
attr dbrep_heizung01_az_target reading t_target
attr dbrep_heizung01_az_target room System->Postgres
attr dbrep_heizung01_az_target showproctime 1
attr dbrep_heizung01_az_target stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define at_dbrep3_heizung_chain at *03:04:00 set dbrep_heizung01_az_target reduceLog 1 average
setuuid at_dbrep3_heizung_chain 64adb14b-f33f-b657-5e66-b63f3aedcbe072f7
attr at_dbrep3_heizung_chain group Automatisierung
attr at_dbrep3_heizung_chain room System->Postgres
define dbrep_heizung02_az_value DbRep dblog
setuuid dbrep_heizung02_az_value 64adb1ab-f33f-b657-a991-38dcd99abf138d5a
attr dbrep_heizung02_az_value allowDeletion 1
attr dbrep_heizung02_az_value device MQTT2_shellytrv_B4E3F9D62471
attr dbrep_heizung02_az_value executeAfterProc set dbrep_heizung03_bz_target reduceLog 1 average
attr dbrep_heizung02_az_value fastStart 1
attr dbrep_heizung02_az_value reading t_value
attr dbrep_heizung02_az_value room System->Postgres
attr dbrep_heizung02_az_value showproctime 1
attr dbrep_heizung02_az_value stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_heizung03_bz_target DbRep dblog
setuuid dbrep_heizung03_bz_target 64adb2fa-f33f-b657-1fb0-d55da4d8c3abde47
attr dbrep_heizung03_bz_target allowDeletion 1
attr dbrep_heizung03_bz_target device MQTT2_shellytrv_BC33AC069136
attr dbrep_heizung03_bz_target executeAfterProc set dbrep_heizung04_bz_value reduceLog 1 average
attr dbrep_heizung03_bz_target fastStart 1
attr dbrep_heizung03_bz_target reading t_target
attr dbrep_heizung03_bz_target room System->Postgres
attr dbrep_heizung03_bz_target showproctime 1
attr dbrep_heizung03_bz_target stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_heizung04_bz_value DbRep dblog
setuuid dbrep_heizung04_bz_value 64adb314-f33f-b657-bbcd-c1c126798bfaad41
attr dbrep_heizung04_bz_value allowDeletion 1
attr dbrep_heizung04_bz_value device MQTT2_shellytrv_BC33AC069136
attr dbrep_heizung04_bz_value executeAfterProc set dbrep_heizung05_hz_target reduceLog 1 average
attr dbrep_heizung04_bz_value fastStart 1
attr dbrep_heizung04_bz_value reading t_value
attr dbrep_heizung04_bz_value room System->Postgres
attr dbrep_heizung04_bz_value showproctime 1
attr dbrep_heizung04_bz_value stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_heizung05_hz_target DbRep dblog
setuuid dbrep_heizung05_hz_target 64adb409-f33f-b657-e75a-f3f96c026cd2585a
attr dbrep_heizung05_hz_target allowDeletion 1
attr dbrep_heizung05_hz_target device MQTT2_shellytrv_60A423D7D5F0
attr dbrep_heizung05_hz_target executeAfterProc set dbrep_heizung06_hz_value reduceLog 1 average
attr dbrep_heizung05_hz_target fastStart 1
attr dbrep_heizung05_hz_target reading t_target
attr dbrep_heizung05_hz_target room System->Postgres
attr dbrep_heizung05_hz_target showproctime 1
attr dbrep_heizung05_hz_target stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_heizung06_hz_value DbRep dblog
setuuid dbrep_heizung06_hz_value 64adb41e-f33f-b657-4c42-3a5a2c76a6f03ac1
attr dbrep_heizung06_hz_value allowDeletion 1
attr dbrep_heizung06_hz_value device MQTT2_shellytrv_60A423D7D5F0
attr dbrep_heizung06_hz_value executeAfterProc set dbrep_heizung07_mz_target reduceLog 1 average
attr dbrep_heizung06_hz_value fastStart 1
attr dbrep_heizung06_hz_value reading t_value
attr dbrep_heizung06_hz_value room System->Postgres
attr dbrep_heizung06_hz_value showproctime 1
attr dbrep_heizung06_hz_value stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_heizung07_mz_target DbRep dblog
setuuid dbrep_heizung07_mz_target 64adb52a-f33f-b657-b015-8e702e5a23401425
attr dbrep_heizung07_mz_target allowDeletion 1
attr dbrep_heizung07_mz_target device MQTT2_shellytrv_60A423D7E7B0
attr dbrep_heizung07_mz_target executeAfterProc set dbrep_heizung08_mz_value reduceLog 1 average
attr dbrep_heizung07_mz_target fastStart 1
attr dbrep_heizung07_mz_target reading t_target
attr dbrep_heizung07_mz_target room System->Postgres
attr dbrep_heizung07_mz_target showproctime 1
attr dbrep_heizung07_mz_target stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_heizung08_mz_value DbRep dblog
setuuid dbrep_heizung08_mz_value 64adb544-f33f-b657-c925-2326774028b0dcf3
attr dbrep_heizung08_mz_value allowDeletion 1
attr dbrep_heizung08_mz_value device MQTT2_shellytrv_60A423D7E7B0
attr dbrep_heizung08_mz_value executeAfterProc set dbrep_heizung09_sz_target reduceLog 1 average
attr dbrep_heizung08_mz_value fastStart 1
attr dbrep_heizung08_mz_value reading t_value
attr dbrep_heizung08_mz_value room System->Postgres
attr dbrep_heizung08_mz_value showproctime 1
attr dbrep_heizung08_mz_value stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_heizung09_sz_target DbRep dblog
setuuid dbrep_heizung09_sz_target 64adb559-f33f-b657-fe00-0dc16e50f3a40428
attr dbrep_heizung09_sz_target allowDeletion 1
attr dbrep_heizung09_sz_target device MQTT2_shellytrv_BC33AC034B28
attr dbrep_heizung09_sz_target executeAfterProc set dbrep_heizung10_sz_value reduceLog 1 average
attr dbrep_heizung09_sz_target fastStart 1
attr dbrep_heizung09_sz_target reading t_target
attr dbrep_heizung09_sz_target room System->Postgres
attr dbrep_heizung09_sz_target showproctime 1
attr dbrep_heizung09_sz_target stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_heizung10_sz_value DbRep dblog
setuuid dbrep_heizung10_sz_value 64adb565-f33f-b657-d564-feac7a2010509e68
attr dbrep_heizung10_sz_value allowDeletion 1
attr dbrep_heizung10_sz_value device MQTT2_shellytrv_BC33AC034B28
attr dbrep_heizung10_sz_value fastStart 1
attr dbrep_heizung10_sz_value reading t_value
attr dbrep_heizung10_sz_value room System->Postgres
attr dbrep_heizung10_sz_value showproctime 1
attr dbrep_heizung10_sz_value stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep_sqlcount DbRep dblog
setuuid dbrep_sqlcount 64ae902d-f33f-b657-e961-dd44c56f10a64fcc
attr dbrep_sqlcount comment select device, reading, count(*) from history group by DEVICE, READING order by DEVICE, READING;;
attr dbrep_sqlcount fastStart 1
attr dbrep_sqlcount group SQL-Results
attr dbrep_sqlcount room System->Postgres
attr dbrep_sqlcount showproctime 1
attr dbrep_sqlcount sqlResultFormat table
attr dbrep_sqlcount stateFormat { if (defined($defs{$name}{READINGS}{SqlResult})) \
    {\
        ReadingsVal($name,"SqlResult",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define dbrep__comments DbRep dblog
setuuid dbrep__comments 64ae90fd-f33f-b657-1071-f5919f61e14d41f8
attr dbrep__comments comment https://wiki.fhem.de/wiki/DbRep_-_Reporting_und_Management_von_DbLog-Datenbankinhalten\
\
Faststart für alle DbRep-Devices setzen:\
attr TYPE=DbRep fastStart 1\
\

attr dbrep__comments fastStart 1
attr dbrep__comments room System->Postgres
attr dbrep__comments showproctime 1
define at_dbrep7_sqlcount at *03:12:00 set dbrep_dbsize vacuum
setuuid at_dbrep7_sqlcount 64ae93b2-f33f-b657-df27-19e9aba874b9a96a
attr at_dbrep7_sqlcount group Automatisierung
attr at_dbrep7_sqlcount room System->Postgres
define dbrep_bkw5_kuehlschrank1_maxValueDay DbRep dblog
setuuid dbrep_bkw5_kuehlschrank1_maxValueDay 64b0361f-f33f-b657-fa82-f6a79a29c1ee8c4b
attr dbrep_bkw5_kuehlschrank1_maxValueDay aggregation day
attr dbrep_bkw5_kuehlschrank1_maxValueDay allowDeletion 1
attr dbrep_bkw5_kuehlschrank1_maxValueDay device MQTT2_DVES_0371A9
attr dbrep_bkw5_kuehlschrank1_maxValueDay executeAfterProc set dbrep_bkw6_average_power_gen reduceLog average
attr dbrep_bkw5_kuehlschrank1_maxValueDay fastStart 1
attr dbrep_bkw5_kuehlschrank1_maxValueDay reading ENERGY_Today
attr dbrep_bkw5_kuehlschrank1_maxValueDay room System->Postgres
attr dbrep_bkw5_kuehlschrank1_maxValueDay showproctime 1
attr dbrep_bkw5_kuehlschrank1_maxValueDay stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_bkw5_kuehlschrank1_maxValueDay timeDiffToNow d:5 FullDay
attr dbrep_bkw5_kuehlschrank1_maxValueDay timeOlderThan d:1 FullDay
define dbrep_dbsize DbRep dblog
setuuid dbrep_dbsize 64b0428d-f33f-b657-77b9-b1188be1237741bb
attr dbrep_dbsize DbLogInclude SizeDbEnd_MB
attr dbrep_dbsize executeAfterProc set dbrep_sqlcount sqlCmd select device, reading, count(*) from history group by DEVICE, READING order by DEVICE, READING;;
attr dbrep_dbsize fastStart 1
attr dbrep_dbsize group Auswertung
attr dbrep_dbsize room System->Postgres
attr dbrep_dbsize showproctime 1
attr dbrep_dbsize stateFormat Datenbankgröße: SizeDbEnd_MB MB
define wdt_Umwaelzpumpe_absent WeekdayTimer MQTT2_DVES_4B31BB 1234567|11:30|on 1234567|13:30|off
setuuid wdt_Umwaelzpumpe_absent 64b1a919-f33f-b657-d49e-ada934d3e9b392f6
attr wdt_Umwaelzpumpe_absent alias Zeitschaltung Umwälzpumpe immer
attr wdt_Umwaelzpumpe_absent commandTemplate set $NAME  $EVENT
attr wdt_Umwaelzpumpe_absent devStateIcon {AttrVal($name,'disable','0') eq "0" ? ".*:general_an\@orange" : ".*:general_aus\@grey"}
attr wdt_Umwaelzpumpe_absent disable 0
attr wdt_Umwaelzpumpe_absent group Schaltungen
attr wdt_Umwaelzpumpe_absent icon time_timer
attr wdt_Umwaelzpumpe_absent room Energie
attr wdt_Umwaelzpumpe_absent webCmd enable:disable
define dbrep_repairandfillcurr DbRep dblog
setuuid dbrep_repairandfillcurr 64eb51e4-f33f-b657-3150-cfb51f96778f6c72
attr dbrep_repairandfillcurr allowDeletion 1
attr dbrep_repairandfillcurr event-on-change-reading state,--DELETED_ROWS_CURRENT--
attr dbrep_repairandfillcurr fastStart 1
attr dbrep_repairandfillcurr room System->Postgres
attr dbrep_repairandfillcurr showproctime 1
attr dbrep_repairandfillcurr stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
define at_dbrep0_repairandfillcurr at *01:45:00 set dbrep_repairandfillcurr tableCurrentPurge
setuuid at_dbrep0_repairandfillcurr 64eb53ed-f33f-b657-da7b-627c957393bc3018
attr at_dbrep0_repairandfillcurr group Automatisierung
attr at_dbrep0_repairandfillcurr room System->Postgres
define notify_repairandfillcurr notify dbrep_repairandfillcurr:.*DELETED_ROWS_CURRENT.*  sleep 5
setuuid notify_repairandfillcurr 64eb54a6-f33f-b657-b533-22e74b89d4644413
attr notify_repairandfillcurr group Automatisierung
attr notify_repairandfillcurr room System->Postgres
attr notify_repairandfillcurr showtime 1
define myPlot_Postgres_DBSize SVG dblog:myPlot_Postgres_DBSize:HISTORY
setuuid myPlot_Postgres_DBSize 64eb5abe-f33f-b657-3080-d325ac73cc4b4dd7
attr myPlot_Postgres_DBSize endPlotToday 1
attr myPlot_Postgres_DBSize fixedrange year
attr myPlot_Postgres_DBSize group Auswertung
attr myPlot_Postgres_DBSize room System->Postgres
define at_message02_stromverbrauch at *06:35:00 set signalBot send {("Stromverbrauch " . POSIX::strftime("%d.%m.%Y",localtime(time_str2num(ReadingsTimestamp('Stromzaehler','statTotal_consumptionDayLast','')))) . ": " . round(ReadingsVal('Stromzaehler','statTotal_consumptionDayLast','0'),3) . " kWh (Verbrauch vom Haus: " . round(ReadingsVal('MQTT2_DVES_9BFAF4','statTotal_kwh_diffDayLast','0'),3) . " kWh, produziert: " . round(ReadingsVal('MQTT2_DVES_9BFAF4','statTotal_kwh_genDayLast','0'),3) . " kWh, eingespeist: " . round(ReadingsVal('MQTT2_DVES_9BFAF4','statTotal_kwh_outDayLast','0'),3) . " kWh, selbst verbraucht: " . round(ReadingsVal('MQTT2_DVES_9BFAF4','statTotal_kwh_genDayLast','0') + ReadingsVal('MQTT2_DVES_9BFAF4','statTotal_kwh_outDayLast','0'),3) . " kWh)")}
setuuid at_message02_stromverbrauch 64eb6254-f33f-b657-8eac-75195a624dfa37ed
attr at_message02_stromverbrauch icon clock
attr at_message02_stromverbrauch room System->Signal
attr at_message02_stromverbrauch verbose 0
define at_fhemServerApt_toUpgrade at *8:30:00 { if ($wday == 6) { fhem ("set fhemServerApt toUpgrade") } }
setuuid at_fhemServerApt_toUpgrade 64f304f2-f33f-b657-5475-b064d907ea8ed413
attr at_fhemServerApt_toUpgrade alias System Weekly Auto-Upgrade
attr at_fhemServerApt_toUpgrade group System/Docker
attr at_fhemServerApt_toUpgrade icon clock
attr at_fhemServerApt_toUpgrade room System->Other
define signalBot Signalbot
setuuid signalBot 64f48b4b-f33f-b657-b323-b854a4e85e91e8ca
attr signalBot allowedPeer +4915152657436
attr signalBot autoJoin no
attr signalBot comment set signalBot updateProfile FHEM &/var/lib/signal-cli/avatars/profile-+492471949016
attr signalBot defaultPeer #Heimautomatisierung
attr signalBot registerMethod Voice
attr signalBot room System->Signal
attr signalBot showtime 1
define notifyShellyGartenOffline notify MQTT2_shellyplus1pm_4855199ce640:online:.* set signalBot send @Carsten Shelly Außensteckdosen $EVENT
setuuid notifyShellyGartenOffline 65070cff-f33f-b657-78c5-bc89c16acffd71c6
attr notifyShellyGartenOffline disable 1
attr notifyShellyGartenOffline icon telegram
attr notifyShellyGartenOffline room System->Signal
define notifyShellyBKWOffline notify MQTT2_DVES_9BFAF4:LWT:.* set signalBot send @Carsten Shelly Balkonkraftwerk online $EVENT
setuuid notifyShellyBKWOffline 65070d4a-f33f-b657-534d-857956f0fc754733
attr notifyShellyBKWOffline icon telegram
attr notifyShellyBKWOffline room System->Signal
define MQTT2_DVES_ED41C4 MQTT2_DEVICE DVES_ED41C4
setuuid MQTT2_DVES_ED41C4 6509e85f-f33f-b657-0f0b-d05e62b8281b62ff
attr MQTT2_DVES_ED41C4 DbLogInclude power
attr MQTT2_DVES_ED41C4 IODev broker
attr MQTT2_DVES_ED41C4 alias Computer
attr MQTT2_DVES_ED41C4 autocreate 0
attr MQTT2_DVES_ED41C4 devStateIcon {\
  my $text = sprintf(" aktuell: %.0fW", ReadingsVal($name,"power","-1"));;\
  my $onl = ReadingsVal($name,"online","false") eq "true"?"10px-kreis-gruen":"10px-kreis-rot";;\
  my $state = lc ReadingsVal($name, "state", "off");;\
  my $devStateIcon = 'on';;\
  if ($state eq "off")\
  {\
    $devStateIcon = 'off@grey';;\
  }\
  "<div><a href=\"http://".ReadingsVal($name,"ip","none")." \"target=\"_blank\">".FW_makeImage($onl).'</a> <a href="/fhem?cmd.dummy=set '.$name.' toggle&XHR=1">'.FW_makeImage($devStateIcon)."</a>$text<b></b>"\
}
attr MQTT2_DVES_ED41C4 event-on-change-reading .*
attr MQTT2_DVES_ED41C4 genericDeviceType outlet
attr MQTT2_DVES_ED41C4 group MQTT2_DEVICE
attr MQTT2_DVES_ED41C4 icon mqtt_device
attr MQTT2_DVES_ED41C4 jsonMap POWER1:0 POWER2:0 POWER3:0 POWER4:0 Dimmer:0 Channel_0:0 Channel_1:0 Channel_2:0 Channel_3:0 Channel_4:0 Channel_5:0 HSBColor:0 Color:0
attr MQTT2_DVES_ED41C4 model tasmota_POW
attr MQTT2_DVES_ED41C4 readingList tele/tasmota_ED41C4/LWT:.* LWT\
  tele/tasmota_ED41C4/STATE:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/tasmota_ED41C4/SENSOR:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  tele/tasmota_ED41C4/INFO.:.* { $EVENT =~ m,^..Info[1-3]..(.+).$, ?  json2nameValue($1,'',$JSONMAP) : json2nameValue($EVENT,'',$JSONMAP) }\
  tele/tasmota_ED41C4/UPTIME:.* { json2nameValue($EVENT,'',$JSONMAP) }\
  stat/tasmota_ED41C4/POWER1:.* state\
  stat/tasmota_ED41C4/RESULT:.* { json2nameValue($EVENT,'',$JSONMAP) }
attr MQTT2_DVES_ED41C4 room Energie,System->HomeKit
attr MQTT2_DVES_ED41C4 setList off:noArg    cmnd/tasmota_ED41C4/POWER1 0\
  on:noArg     cmnd/tasmota_ED41C4/POWER1 1\
  toggle:noArg cmnd/tasmota_ED41C4/POWER1 2
attr MQTT2_DVES_ED41C4 setStateList on off toggle
attr MQTT2_DVES_ED41C4 sortby 2
attr MQTT2_DVES_ED41C4 userReadings state:POWER1:.* { lc(ReadingsVal($name,"POWER1","")) },\
power {ReadingsNum($name,'ENERGY_Power',0)},\
online {if(ReadingsVal($name,"LWT","") eq "Online") {return "true"} else {return "false"}},\
ip {ReadingsVal($name,"IPAddress","")}
attr MQTT2_DVES_ED41C4 webCmd toggle
define dbrep_bkw6_average_power_gen DbRep dblog
setuuid dbrep_bkw6_average_power_gen 650ed719-f33f-b657-0ba4-ba2b09c6b50ce1ce
attr dbrep_bkw6_average_power_gen aggregation hour
attr dbrep_bkw6_average_power_gen allowDeletion 1
attr dbrep_bkw6_average_power_gen device MQTT2_DVES_9BFAF4
attr dbrep_bkw6_average_power_gen executeAfterProc set dbrep_bkw7_average_power_out reduceLog average
attr dbrep_bkw6_average_power_gen fastStart 1
attr dbrep_bkw6_average_power_gen reading power_gen
attr dbrep_bkw6_average_power_gen room System->Postgres
attr dbrep_bkw6_average_power_gen showproctime 1
attr dbrep_bkw6_average_power_gen stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_bkw6_average_power_gen timeOlderThan d:8 FullDay
define dbrep_bkw7_average_power_out DbRep dblog
setuuid dbrep_bkw7_average_power_out 650ed72e-f33f-b657-6c24-c63bdeb3c7896018
attr dbrep_bkw7_average_power_out aggregation hour
attr dbrep_bkw7_average_power_out allowDeletion 1
attr dbrep_bkw7_average_power_out device MQTT2_DVES_9BFAF4
attr dbrep_bkw7_average_power_out executeAfterProc set dbrep_bkw8_kuehlschrank2_maxValueDay maxValue deleteOther
attr dbrep_bkw7_average_power_out fastStart 1
attr dbrep_bkw7_average_power_out reading power_out
attr dbrep_bkw7_average_power_out room System->Postgres
attr dbrep_bkw7_average_power_out showproctime 1
attr dbrep_bkw7_average_power_out stateFormat { if (defined($defs{$name}{READINGS}{background_processing_time})) \
    {\
        ReadingsVal($name,"background_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_bkw7_average_power_out timeOlderThan d:8 FullDay
define myPlot_Kuehlschrank3 SVG dblog:myPlot_Kuehlschrank3:HISTORY
setuuid myPlot_Kuehlschrank3 651c218a-f33f-b657-d5cf-f4764165b9cbc8a5
attr myPlot_Kuehlschrank3 alias Kühlschrank Küche Verbrauch
attr myPlot_Kuehlschrank3 room Plots->Kühlung
attr myPlot_Kuehlschrank3 sortby 1
define dbrep_bkw8_kuehlschrank2_maxValueDay DbRep dblog
setuuid dbrep_bkw8_kuehlschrank2_maxValueDay 65205925-f33f-b657-c26f-90267a281952212d
attr dbrep_bkw8_kuehlschrank2_maxValueDay aggregation day
attr dbrep_bkw8_kuehlschrank2_maxValueDay allowDeletion 1
attr dbrep_bkw8_kuehlschrank2_maxValueDay device MQTT2_DVES_02F335
attr dbrep_bkw8_kuehlschrank2_maxValueDay fastStart 1
attr dbrep_bkw8_kuehlschrank2_maxValueDay reading ENERGY_Today
attr dbrep_bkw8_kuehlschrank2_maxValueDay room System->Postgres
attr dbrep_bkw8_kuehlschrank2_maxValueDay showproctime 1
attr dbrep_bkw8_kuehlschrank2_maxValueDay stateFormat { if (defined($defs{$name}{READINGS}{sql_processing_time})) \
    {\
        ReadingsVal($name,"sql_processing_time",undef);;\
    } \
    else \
    {\
        ReadingsVal($name,"state",undef);;\
    }\
}
attr dbrep_bkw8_kuehlschrank2_maxValueDay timeDiffToNow d:5 FullDay
attr dbrep_bkw8_kuehlschrank2_maxValueDay timeOlderThan d:1 FullDay
define myPlot_Kuehlschrank4 SVG dblog:myPlot_Kuehlschrank4:HISTORY
setuuid myPlot_Kuehlschrank4 652059a6-f33f-b657-7213-bbf9084f9a4c1fa9
attr myPlot_Kuehlschrank4 alias Kühlschrank Küche Verbrauch pro Tag
attr myPlot_Kuehlschrank4 endPlotToday 1
attr myPlot_Kuehlschrank4 fixedrange month
attr myPlot_Kuehlschrank4 room Plots->Kühlung
attr myPlot_Kuehlschrank4 sortby 2
define link_svgplots weblink cmdList edit_settings:svgplots:list+TYPE=SVG
setuuid link_svgplots 6520693d-f33f-b657-aa58-2d9b394142f6d421
attr link_svgplots icon edit_settings
attr link_svgplots room System->DevLinks
define Sonos SONOS localhost:4711 45
setuuid Sonos 65283938-f33f-b657-a2ae-afdca0fcc3316b0f
attr Sonos room System->Sonos
define Sonos_SonosOne_bei_Marit SONOSPLAYER RINCON_7828CAC1D06001400_MR
setuuid Sonos_SonosOne_bei_Marit 65283943-f33f-b657-412d-ca3eaabb57fbd059
attr Sonos_SonosOne_bei_Marit alias SonosOne bei Marit
attr Sonos_SonosOne_bei_Marit generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_SonosOne_bei_Marit generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_SonosOne_bei_Marit generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_SonosOne_bei_Marit generateVolumeEvent 1
attr Sonos_SonosOne_bei_Marit generateVolumeSlider 1
attr Sonos_SonosOne_bei_Marit getAlarms 1
attr Sonos_SonosOne_bei_Marit getTitleInfoFromMaster 1
attr Sonos_SonosOne_bei_Marit group SonosOne bei Marit
attr Sonos_SonosOne_bei_Marit icon icoSONOSPLAYER_icon-S13.png
attr Sonos_SonosOne_bei_Marit minVolume 0
attr Sonos_SonosOne_bei_Marit model Sonos_S13
attr Sonos_SonosOne_bei_Marit room Sonos
attr Sonos_SonosOne_bei_Marit simulateCurrentTrackPosition 1
attr Sonos_SonosOne_bei_Marit sortby 1
attr Sonos_SonosOne_bei_Marit stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_SonosOne_bei_Marit userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_SonosOne_bei_Marit webCmd Volume
define Sonos_SonosOne_bei_MaritRG_Favourites readingsGroup Sonos_SonosOne_bei_Marit:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
setuuid Sonos_SonosOne_bei_MaritRG_Favourites 65283944-f33f-b657-d41d-86e0d7ca913aaa07
attr Sonos_SonosOne_bei_MaritRG_Favourites room System->Sonos
define Sonos_SonosOne_bei_MaritRG_Radios readingsGroup Sonos_SonosOne_bei_Marit:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
setuuid Sonos_SonosOne_bei_MaritRG_Radios 65283944-f33f-b657-69b5-f1d1f7eea183e3a0
attr Sonos_SonosOne_bei_MaritRG_Radios room System->Sonos
define Sonos_SonosOne_bei_MaritRG_Playlists readingsGroup Sonos_SonosOne_bei_Marit:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
setuuid Sonos_SonosOne_bei_MaritRG_Playlists 65283944-f33f-b657-0746-d9781bf80e18bbe6
attr Sonos_SonosOne_bei_MaritRG_Playlists room System->Sonos
define Sonos_SonosOne_bei_MaritRG_Queue readingsGroup Sonos_SonosOne_bei_Marit:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
setuuid Sonos_SonosOne_bei_MaritRG_Queue 65283944-f33f-b657-6578-080abb13c760cf31
attr Sonos_SonosOne_bei_MaritRG_Queue room System->Sonos
define Sonos_Wohnzimmer_RR SONOSPLAYER RINCON_5CAAFD2E263C01400_MR
setuuid Sonos_Wohnzimmer_RR 65283945-f33f-b657-c8cc-298209104f00eeca
attr Sonos_Wohnzimmer_RR alias Wohnzimmer - Hinten Rechts
attr Sonos_Wohnzimmer_RR generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer_RR generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer_RR generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer_RR generateVolumeEvent 1
attr Sonos_Wohnzimmer_RR generateVolumeSlider 1
attr Sonos_Wohnzimmer_RR getAlarms 1
attr Sonos_Wohnzimmer_RR getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer_RR group Wohnzimmer
attr Sonos_Wohnzimmer_RR icon icoSONOSPLAYER_icon-S1.png
attr Sonos_Wohnzimmer_RR minVolume 0
attr Sonos_Wohnzimmer_RR model Sonos_S1
attr Sonos_Wohnzimmer_RR room System->Sonos
attr Sonos_Wohnzimmer_RR simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer_RR sortby 1
attr Sonos_Wohnzimmer_RR stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer_RR userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer_RR webCmd Volume
define Sonos_Wohnzimmer SONOSPLAYER RINCON_5CAAFDAB59C501400_MR
setuuid Sonos_Wohnzimmer 65283946-f33f-b657-6023-e9d6f928d2df9806
attr Sonos_Wohnzimmer alias Wohnzimmer
attr Sonos_Wohnzimmer generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer generateVolumeEvent 1
attr Sonos_Wohnzimmer generateVolumeSlider 1
attr Sonos_Wohnzimmer getAlarms 1
attr Sonos_Wohnzimmer getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer group Wohnzimmer
attr Sonos_Wohnzimmer icon icoSONOSPLAYER_icon-S9.png
attr Sonos_Wohnzimmer minVolume 0
attr Sonos_Wohnzimmer model Sonos_S9
attr Sonos_Wohnzimmer room Sonos
attr Sonos_Wohnzimmer simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer sortby 1
attr Sonos_Wohnzimmer stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer webCmd Volume
define Sonos_WohnzimmerRG_Favourites readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
setuuid Sonos_WohnzimmerRG_Favourites 65283947-f33f-b657-62be-d8c3ba2f0102d333
attr Sonos_WohnzimmerRG_Favourites room System->Sonos
define Sonos_WohnzimmerRG_Radios readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
setuuid Sonos_WohnzimmerRG_Radios 65283947-f33f-b657-059d-9e1ff49490e2a997
attr Sonos_WohnzimmerRG_Radios room System->Sonos
define Sonos_WohnzimmerRG_Playlists readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
setuuid Sonos_WohnzimmerRG_Playlists 65283947-f33f-b657-2d08-c894ebe46643cb85
attr Sonos_WohnzimmerRG_Playlists room System->Sonos
define Sonos_WohnzimmerRG_Queue readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
setuuid Sonos_WohnzimmerRG_Queue 65283947-f33f-b657-8160-f8f24366b0b22426
attr Sonos_WohnzimmerRG_Queue room System->Sonos
define Sonos_SonosOne_bei_Hauke SONOSPLAYER RINCON_7828CAC1D20C01400_MR
setuuid Sonos_SonosOne_bei_Hauke 65283947-f33f-b657-014e-f601314db860dbc7
attr Sonos_SonosOne_bei_Hauke alias SonosOne bei Hauke
attr Sonos_SonosOne_bei_Hauke generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_SonosOne_bei_Hauke generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_SonosOne_bei_Hauke generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_SonosOne_bei_Hauke generateVolumeEvent 1
attr Sonos_SonosOne_bei_Hauke generateVolumeSlider 1
attr Sonos_SonosOne_bei_Hauke getAlarms 1
attr Sonos_SonosOne_bei_Hauke getTitleInfoFromMaster 1
attr Sonos_SonosOne_bei_Hauke group SonosOne bei Hauke
attr Sonos_SonosOne_bei_Hauke icon icoSONOSPLAYER_icon-S13.png
attr Sonos_SonosOne_bei_Hauke minVolume 0
attr Sonos_SonosOne_bei_Hauke model Sonos_S13
attr Sonos_SonosOne_bei_Hauke room Sonos
attr Sonos_SonosOne_bei_Hauke simulateCurrentTrackPosition 1
attr Sonos_SonosOne_bei_Hauke sortby 1
attr Sonos_SonosOne_bei_Hauke stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_SonosOne_bei_Hauke userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_SonosOne_bei_Hauke webCmd Volume
define Sonos_SonosOne_bei_HaukeRG_Favourites readingsGroup Sonos_SonosOne_bei_Hauke:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
setuuid Sonos_SonosOne_bei_HaukeRG_Favourites 65283948-f33f-b657-74c5-80caeb70ddc2a8ac
attr Sonos_SonosOne_bei_HaukeRG_Favourites room System->Sonos
define Sonos_SonosOne_bei_HaukeRG_Radios readingsGroup Sonos_SonosOne_bei_Hauke:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
setuuid Sonos_SonosOne_bei_HaukeRG_Radios 65283948-f33f-b657-e48a-cbf3527899e36610
attr Sonos_SonosOne_bei_HaukeRG_Radios room System->Sonos
define Sonos_SonosOne_bei_HaukeRG_Playlists readingsGroup Sonos_SonosOne_bei_Hauke:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
setuuid Sonos_SonosOne_bei_HaukeRG_Playlists 65283948-f33f-b657-5d41-759e900f9ad2a033
attr Sonos_SonosOne_bei_HaukeRG_Playlists room System->Sonos
define Sonos_SonosOne_bei_HaukeRG_Queue readingsGroup Sonos_SonosOne_bei_Hauke:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
setuuid Sonos_SonosOne_bei_HaukeRG_Queue 65283948-f33f-b657-2f9d-875ae1611a628c07
attr Sonos_SonosOne_bei_HaukeRG_Queue room System->Sonos
define Sonos_Wohnzimmer_LR SONOSPLAYER RINCON_B8E937ECFF1E01400_MR
setuuid Sonos_Wohnzimmer_LR 65283948-f33f-b657-bbeb-ee12369918704990
attr Sonos_Wohnzimmer_LR alias Wohnzimmer - Hinten Links
attr Sonos_Wohnzimmer_LR generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer_LR generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer_LR generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer_LR generateVolumeEvent 1
attr Sonos_Wohnzimmer_LR generateVolumeSlider 1
attr Sonos_Wohnzimmer_LR getAlarms 1
attr Sonos_Wohnzimmer_LR getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer_LR group Wohnzimmer
attr Sonos_Wohnzimmer_LR icon icoSONOSPLAYER_icon-S1.png
attr Sonos_Wohnzimmer_LR minVolume 0
attr Sonos_Wohnzimmer_LR model Sonos_S1
attr Sonos_Wohnzimmer_LR room System->Sonos
attr Sonos_Wohnzimmer_LR simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer_LR sortby 1
attr Sonos_Wohnzimmer_LR stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer_LR userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer_LR webCmd Volume
define Sonos_Sub SONOSPLAYER RINCON_949F3EA755E201400_MR
setuuid Sonos_Sub 6593eacb-f33f-b657-7ab7-3dd709ada8ae8313
attr Sonos_Sub alias Sub
attr Sonos_Sub generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Sub generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Sub generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Sub generateVolumeEvent 1
attr Sonos_Sub generateVolumeSlider 1
attr Sonos_Sub getAlarms 1
attr Sonos_Sub getTitleInfoFromMaster 1
attr Sonos_Sub group Sub
attr Sonos_Sub icon icoSONOSPLAYER_icon-Sub.png
attr Sonos_Sub minVolume 0
attr Sonos_Sub model Sonos_Sub
attr Sonos_Sub room System->Sonos
attr Sonos_Sub simulateCurrentTrackPosition 1
attr Sonos_Sub sortby 1
attr Sonos_Sub stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Sub userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Sub webCmd Volume
define huebridge HUEBridge 192.168.2.51
setuuid huebridge 659c5ce7-f33f-b657-3a6e-37e69647fb1b1f6e
attr huebridge icon hue_filled_bridge_v2
attr huebridge key mM6sYBX8bikAEiam-wYKKNjIteZaIGYcUwlfc81R
attr huebridge room HUE
define HUEDevice5 HUEDevice 5  IODev=huebridge
setuuid HUEDevice5 659c5cfb-f33f-b657-b036-99426c708105193f
attr HUEDevice5 IODev huebridge
attr HUEDevice5 alias Hauke 1
attr HUEDevice5 color-icons 2
attr HUEDevice5 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice5 group HUEDevice
attr HUEDevice5 icon hue_filled_white_and_color_e27_b22
attr HUEDevice5 model LCT010
attr HUEDevice5 room HUE
attr HUEDevice5 subType extcolordimmer
attr HUEDevice5 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off
define HUEDevice6 HUEDevice 6  IODev=huebridge
setuuid HUEDevice6 659c5cfb-f33f-b657-b477-2bb28228cbf852a0
attr HUEDevice6 IODev huebridge
attr HUEDevice6 alias Wohnzimmer 1
attr HUEDevice6 color-icons 2
attr HUEDevice6 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice6 group HUEDevice
attr HUEDevice6 icon hue_filled_white_and_color_e27_b22
attr HUEDevice6 model LCT001
attr HUEDevice6 room HUE
attr HUEDevice6 subType extcolordimmer
attr HUEDevice6 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off
define HUEDevice11 HUEDevice 11  IODev=huebridge
setuuid HUEDevice11 659c5cfb-f33f-b657-5f2c-8a91e7315a289e9b
attr HUEDevice11 IODev huebridge
attr HUEDevice11 alias Arbeitszimmer 1
attr HUEDevice11 color-icons 2
attr HUEDevice11 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice11 group HUEDevice
attr HUEDevice11 icon hue_filled_gu10
attr HUEDevice11 model LWG004
attr HUEDevice11 room HUE
attr HUEDevice11 subType dimmer
attr HUEDevice11 webCmd pct:toggle:on:off
define HUEDevice17 HUEDevice 17  IODev=huebridge
setuuid HUEDevice17 659c5cfb-f33f-b657-41ea-23e9663612625790
attr HUEDevice17 IODev huebridge
attr HUEDevice17 alias Marit 1
attr HUEDevice17 color-icons 2
attr HUEDevice17 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice17 group HUEDevice
attr HUEDevice17 icon hue_filled_white_and_color_e27_b22
attr HUEDevice17 model LCT010
attr HUEDevice17 room HUE
attr HUEDevice17 subType extcolordimmer
attr HUEDevice17 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off
define HUEDevice25 HUEDevice 25  IODev=huebridge
setuuid HUEDevice25 659c5cfb-f33f-b657-0334-5080a175fce397b3
attr HUEDevice25 IODev huebridge
attr HUEDevice25 alias Wohnzimmer 3
attr HUEDevice25 color-icons 2
attr HUEDevice25 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice25 group HUEDevice
attr HUEDevice25 icon hue_filled_white_and_color_e27_b22
attr HUEDevice25 model LCT001
attr HUEDevice25 room HUE
attr HUEDevice25 subType extcolordimmer
attr HUEDevice25 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off
define HUEDevice26 HUEDevice 26  IODev=huebridge
setuuid HUEDevice26 659c5cfc-f33f-b657-fb04-c0edeab6c5942a2b
attr HUEDevice26 IODev huebridge
attr HUEDevice26 alias Arbeitszimmer 2
attr HUEDevice26 color-icons 2
attr HUEDevice26 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice26 group HUEDevice
attr HUEDevice26 icon hue_filled_gu10
attr HUEDevice26 model LWG004
attr HUEDevice26 room HUE
attr HUEDevice26 subType dimmer
attr HUEDevice26 webCmd pct:toggle:on:off
define HUEDevice27 HUEDevice 27  IODev=huebridge
setuuid HUEDevice27 659c5cfc-f33f-b657-50d0-51f796c2f8367239
attr HUEDevice27 IODev huebridge
attr HUEDevice27 alias Arbeitszimmer 3
attr HUEDevice27 color-icons 2
attr HUEDevice27 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice27 group HUEDevice
attr HUEDevice27 icon hue_filled_gu10
attr HUEDevice27 model LWG004
attr HUEDevice27 room HUE
attr HUEDevice27 subType dimmer
attr HUEDevice27 webCmd pct:toggle:on:off
define HUEDevice32 HUEDevice 32  IODev=huebridge
setuuid HUEDevice32 659c5cfc-f33f-b657-d3b4-a26cabb525e68151
attr HUEDevice32 IODev huebridge
attr HUEDevice32 alias Wohnzimmer 2
attr HUEDevice32 color-icons 2
attr HUEDevice32 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice32 group HUEDevice
attr HUEDevice32 icon hue_filled_white_and_color_e27_b22
attr HUEDevice32 model LCA006
attr HUEDevice32 room HUE
attr HUEDevice32 subType extcolordimmer
attr HUEDevice32 webCmd rgb:rgb ff0000:rgb DEFF26:rgb 0000ff:ct 490:ct 380:ct 270:ct 160:toggle:on:off
define HUEDevice33 HUEDevice 33  IODev=huebridge
setuuid HUEDevice33 659c5cfc-f33f-b657-7ec7-35ca4cc7616fd77a
attr HUEDevice33 IODev huebridge
attr HUEDevice33 alias Garten 1
attr HUEDevice33 color-icons 2
attr HUEDevice33 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEDevice33 group HUEDevice
attr HUEDevice33 icon hue_filled_white_and_color_e27_b22
attr HUEDevice33 model LWA017
attr HUEDevice33 room HUE
attr HUEDevice33 subType dimmer
attr HUEDevice33 webCmd pct:toggle:on:off
define HUEGroup0 HUEDevice group 0  IODev=huebridge
setuuid HUEGroup0 659c5cfc-f33f-b657-bf48-1b3eb14a3afbe66d
attr HUEGroup0 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup0 IODev huebridge
attr HUEGroup0 alias Alle Lampen
attr HUEGroup0 color-icons 2
attr HUEGroup0 delayedUpdate 1
attr HUEGroup0 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup0 group HUEGroup
attr HUEGroup0 icon control_all_on_off
attr HUEGroup0 room HUE
define HUEGroup1 HUEDevice group 1  IODev=huebridge
setuuid HUEGroup1 659c5cfc-f33f-b657-ed4b-827a77bf31bb2c01
attr HUEGroup1 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup1 IODev huebridge
attr HUEGroup1 alias Wohnzimmer
attr HUEGroup1 color-icons 2
attr HUEGroup1 delayedUpdate 1
attr HUEGroup1 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup1 group HUEGroup
attr HUEGroup1 icon hue_room_living
attr HUEGroup1 room HUE
define HUEGroup2 HUEDevice group 2  IODev=huebridge
setuuid HUEGroup2 659c5cfc-f33f-b657-a8ec-33e583c95b444f93
attr HUEGroup2 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup2 IODev huebridge
attr HUEGroup2 alias Haukes Zimmer
attr HUEGroup2 color-icons 2
attr HUEGroup2 delayedUpdate 1
attr HUEGroup2 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup2 group HUEGroup
attr HUEGroup2 icon hue_room_kids_bedroom
attr HUEGroup2 room HUE
define HUEGroup3 HUEDevice group 3  IODev=huebridge
setuuid HUEGroup3 659c5cfc-f33f-b657-9cec-ce34490bb2ddfea8
attr HUEGroup3 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup3 IODev huebridge
attr HUEGroup3 alias Marits Zimmer
attr HUEGroup3 color-icons 2
attr HUEGroup3 delayedUpdate 1
attr HUEGroup3 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup3 group HUEGroup
attr HUEGroup3 icon hue_room_kids_bedroom
attr HUEGroup3 room HUE
define HUEGroup5 HUEDevice group 5  IODev=huebridge
setuuid HUEGroup5 659c5cfd-f33f-b657-75a5-1a057f0fc2a915ef
attr HUEGroup5 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup5 IODev huebridge
attr HUEGroup5 alias Arbeitszimmer
attr HUEGroup5 color-icons 2
attr HUEGroup5 delayedUpdate 1
attr HUEGroup5 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup5 group HUEGroup
attr HUEGroup5 icon hue_room_office
attr HUEGroup5 room HUE
define HUEGroup81 HUEDevice group 81  IODev=huebridge
setuuid HUEGroup81 659c5cfd-f33f-b657-21d0-89e5761c5c7a859e
attr HUEGroup81 userattr createActionReadings:1,0 createGroupReadings:1,0
attr HUEGroup81 IODev huebridge
attr HUEGroup81 alias Garten
attr HUEGroup81 color-icons 2
attr HUEGroup81 delayedUpdate 1
attr HUEGroup81 devStateIcon {(HUEDevice_devStateIcon($name),"toggle")}
attr HUEGroup81 group HUEGroup
attr HUEGroup81 icon hue_room_terrace
attr HUEGroup81 room HUE
define HUESensor1 HUEDevice sensor 1  IODev=huebridge
setuuid HUESensor1 659c5cfd-f33f-b657-407e-9213c5e3489e4748
attr HUESensor1 IODev huebridge
attr HUESensor1 alias Daylight
attr HUESensor1 group HUESensor
attr HUESensor1 icon day_night
attr HUESensor1 model PHDL00
attr HUESensor1 room HUE
define HUESensor4 HUEDevice sensor 4  IODev=huebridge
setuuid HUESensor4 659c5cfd-f33f-b657-1924-bf747e1c2af39b28
attr HUESensor4 IODev huebridge
attr HUESensor4 alias Switch Marit
attr HUESensor4 group HUESensor
attr HUESensor4 icon hue_filled_hds
attr HUESensor4 model RWL021
attr HUESensor4 room HUE
define HUESensor5 HUEDevice sensor 5  IODev=huebridge
setuuid HUESensor5 659c5cfd-f33f-b657-c160-94dde1a9d11a5ffa
attr HUESensor5 IODev huebridge
attr HUESensor5 alias Switch Hauke
attr HUESensor5 group HUESensor
attr HUESensor5 icon hue_filled_hds
attr HUESensor5 model RWL021
attr HUESensor5 room HUE
define HUESensor14 HUEDevice sensor 14  IODev=huebridge
setuuid HUESensor14 659c5cfd-f33f-b657-f703-5caccae72ce5c73f
attr HUESensor14 IODev huebridge
attr HUESensor14 alias Switch Arbeitszimmer
attr HUESensor14 group HUESensor
attr HUESensor14 icon hue_filled_hds
attr HUESensor14 model RWL022
attr HUESensor14 room HUE
define c_roomrename cmdalias roomrename .* AS { for my $name (devspec2array("room=$EVTPART0")){ map {s/$EVTPART0/$EVTPART1/;; fhem("attr $name room $_")} AttrVal($name,'room','') } }
setuuid c_roomrename 659c609c-f33f-b657-1bb6-39a2ce90b2919d9b
attr c_roomrename comment Umbenennen eines FHEM Raumes Aufruf roomrename <oldroom> <newroom>
attr c_roomrename room System->DevLinks
define presence_iPhoneHauke PRESENCE function {checkFritzMACpresent("Fritzbox","52:91:6B:64:BE:48")} 60 60
setuuid presence_iPhoneHauke 65a12f47-f33f-b657-8a9a-b2820388e75f74cf
attr presence_iPhoneHauke DbLogInclude anwesend
attr presence_iPhoneHauke event-on-change-reading anwesend
attr presence_iPhoneHauke room System->Präsenz
attr presence_iPhoneHauke sortby 3
attr presence_iPhoneHauke userReadings anwesend {if(ReadingsVal($name,"presence","") eq "present") {return 1} else {return 0}}
define rr_Hauke ROOMMATE Familie
setuuid rr_Hauke 65a130b3-f33f-b657-92d9-47fa609548ee20fc
attr rr_Hauke alias Hauke
attr rr_Hauke comment Auto-created by Familie
attr rr_Hauke devStateIcon .*home:user_available:absent .*absent:user_away:home .*gone:user_ext_away:home .*gotosleep:scene_toilet:asleep .*asleep:scene_sleeping:awoken .*awoken:scene_sleeping_alternat:home .*:user_unknown:home
attr rr_Hauke group Familie
attr rr_Hauke icon people_sensor
attr rr_Hauke room System->Präsenz
attr rr_Hauke rr_presenceDevices presence_iPhoneHauke
attr rr_Hauke rr_realname group
attr rr_Hauke sortby 3
attr rr_Hauke webCmd state
define myPlot_PresenceHauke SVG dblog:myPlot_PresenceHauke:HISTORY
setuuid myPlot_PresenceHauke 65a131bf-f33f-b657-4346-85ec50a503451887
attr myPlot_PresenceHauke fixedrange week
attr myPlot_PresenceHauke plotWeekStartDay 1
attr myPlot_PresenceHauke room System->Präsenz
attr myPlot_PresenceHauke sortby 3
